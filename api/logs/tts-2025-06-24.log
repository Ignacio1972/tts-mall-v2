[2025-06-24 17:00:38] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 17:01:28] [TEST] Datos recibidos: {"action":"generate_audio","text":"Hola, esto es una prueba del sistema TTS","voice":"fernanda","speed":"normal","emphasis":true}
[2025-06-24 17:01:28] [TEST] Iniciando generación de audio
[2025-06-24 17:01:28] [TEST] Generator options completas: {"speed":"normal","emphasis":true}
[2025-06-24 17:01:28] [TEST] Generando desde texto directo
[2025-06-24 17:01:28] [TEST] Texto original: Hola, esto es una prueba del sistema TTS
[2025-06-24 17:01:28] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 17:01:28] [TEST] Usando énfasis simple
[2025-06-24 17:01:28] [TEST] Usando pausas simples
[2025-06-24 17:01:28] [TEST] Texto procesado con SSML: <speak><prosody rate="medium">Hola, <break time="200ms"/> esto es una prueba del sistema TTS</prosody></speak>
[2025-06-24 17:01:28] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 17:01:28] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 17:01:28] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 17:01:28] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 17:01:28] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"medium\">Hola, <break time=\"200ms\"\/> esto es una prueba del sistema TTS<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 17:01:28] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 17:01:29] [TEST] Respuesta HTTP: 200
[2025-06-24 17:01:29] [TEST] Audio generado exitosamente, tamaño: 51036 bytes
[2025-06-24 17:01:29] [TEST] Archivo temporal creado para preview: test_1750784489.mp3
[2025-06-24 17:01:29] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750784489.mp3.copy
[2025-06-24 17:01:30] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 17:01:30] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685ad9ea24266.mp3' 2>&1
[2025-06-24 17:01:30] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685ad9ea24266.mp3
[2025-06-24 17:01:30] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685ad9ea38e26.txt
[2025-06-24 17:01:30] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685ad9ea38e26.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750784489_with_silence.mp3' 2>&1
[2025-06-24 17:01:30] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 17:01:30] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 148001 bytes
[2025-06-24 17:01:30] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624170130.mp3
[2025-06-24 17:01:31] [TEST] Audio generado y subido exitosamente: tts20250624170130.mp3
[2025-06-24 17:01:54] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 17:01:59] [TEST] Datos recibidos: {"action":"generate_audio","text":"\u00a1No se lo pierdan! Gran show de magia familiar este s\u00e1bado 20 a las 4 de la tarde en el patio de comidas, No se olviden, este s\u00e1bado a las 4 de la tarde !","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2,"custom_markers":[]},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":0,"volume":0,"dynamic_rate":false}}
[2025-06-24 17:01:59] [TEST] Iniciando generación de audio
[2025-06-24 17:01:59] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 17:01:59] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2,"custom_markers":[]}
[2025-06-24 17:01:59] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 17:01:59] [TEST] Modulation settings recibidos: {"pitch":0,"volume":0,"dynamic_rate":false}
[2025-06-24 17:01:59] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2,"custom_markers":[]},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"emphasis_words":[],"modulation_settings":{"pitch":0,"volume":0,"dynamic_rate":false}}
[2025-06-24 17:01:59] [TEST] Generando desde texto directo
[2025-06-24 17:01:59] [TEST] Texto original: ¡No se lo pierdan! Gran show de magia familiar este sábado 20 a las 4 de la tarde en el patio de comidas, No se olviden, este sábado a las 4 de la tarde !
[2025-06-24 17:01:59] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2,"custom_markers":[]}
[2025-06-24 17:01:59] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 17:01:59] [TEST] Pasando modulation_settings a speech-controls: {"pitch":0,"volume":0,"dynamic_rate":false}
[2025-06-24 17:01:59] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2,"custom_markers":[]},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":0,"volume":0,"dynamic_rate":false}}
[2025-06-24 17:01:59] [TEST] Usando énfasis avanzado
[2025-06-24 17:01:59] [TEST] Usando pausas avanzadas
[2025-06-24 17:01:59] [TEST] Texto procesado con SSML: <speak><prosody rate="medium"><prosody pitch="+10%" volume="+2dB">¡No se lo pierdan!</prosody> <emphasis level="medium">Gran</emphasis> <emphasis level="medium">show</emphasis> de magia familiar este sábado <emphasis level="medium">20</emphasis> a las <emphasis level="medium">4</emphasis> de la tarde en el patio de comidas, <break time="0.2s"/> No se olviden, <break time="0.2s"/> este sábado a las <emphasis level="medium">4</emphasis> de la tarde !</prosody></speak>
[2025-06-24 17:01:59] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 17:01:59] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 17:01:59] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 17:01:59] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 17:01:59] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"medium\"><prosody pitch=\"+10%\" volume=\"+2dB\">\u00a1No se lo pierdan!<\/prosody> <emphasis level=\"medium\">Gran<\/emphasis> <emphasis level=\"medium\">show<\/emphasis> de magia familiar este s\u00e1bado <emphasis level=\"medium\">20<\/emphasis> a las <emphasis level=\"medium\">4<\/emphasis> de la tarde en el patio de comidas, <break time=\"0.2s\"\/> No se olviden, <break time=\"0.2s\"\/> este s\u00e1bado a las <emphasis level=\"medium\">4<\/emphasis> de la tarde !<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 17:01:59] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 17:02:01] [TEST] Respuesta HTTP: 200
[2025-06-24 17:02:01] [TEST] Audio generado exitosamente, tamaño: 167228 bytes
[2025-06-24 17:02:01] [TEST] Archivo temporal creado para preview: test_1750784521.mp3
[2025-06-24 17:02:01] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750784521.mp3.copy
[2025-06-24 17:02:01] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 17:02:01] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685ada09f2330.mp3' 2>&1
[2025-06-24 17:02:02] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685ada09f2330.mp3
[2025-06-24 17:02:02] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685ada0a27aae.txt
[2025-06-24 17:02:02] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685ada0a27aae.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750784521_with_silence.mp3' 2>&1
[2025-06-24 17:02:02] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 17:02:02] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 264194 bytes
[2025-06-24 17:02:02] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624170202.mp3
[2025-06-24 17:02:03] [TEST] Audio generado y subido exitosamente: tts20250624170202.mp3
[2025-06-24 17:02:21] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 17:02:33] [TEST] Datos recibidos: {"action":"generate_audio","text":"testing sistema","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 17:02:33] [TEST] Iniciando generación de audio
[2025-06-24 17:02:33] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 17:02:33] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 17:02:33] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 17:02:33] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]},"emphasis_words":[]}
[2025-06-24 17:02:33] [TEST] Generando desde texto directo
[2025-06-24 17:02:33] [TEST] Texto original: testing sistema
[2025-06-24 17:02:33] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 17:02:33] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 17:02:33] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 17:02:33] [TEST] Usando énfasis avanzado
[2025-06-24 17:02:33] [TEST] Usando pausas avanzadas
[2025-06-24 17:02:33] [TEST] Texto procesado con SSML: <speak><prosody rate="medium">testing sistema</prosody></speak>
[2025-06-24 17:02:33] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 17:02:33] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 17:02:33] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 17:02:33] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 17:02:33] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"medium\">testing sistema<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 17:02:33] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 17:02:35] [TEST] Respuesta HTTP: 200
[2025-06-24 17:02:35] [TEST] Audio generado exitosamente, tamaño: 20525 bytes
[2025-06-24 17:02:35] [TEST] Archivo temporal creado para preview: test_1750784555.mp3
[2025-06-24 17:02:35] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750784555.mp3.copy
[2025-06-24 17:02:35] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 17:02:35] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685ada2b5438a.mp3' 2>&1
[2025-06-24 17:02:35] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685ada2b5438a.mp3
[2025-06-24 17:02:35] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685ada2b6a30e.txt
[2025-06-24 17:02:35] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685ada2b6a30e.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750784555_with_silence.mp3' 2>&1
[2025-06-24 17:02:35] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 17:02:35] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 117490 bytes
[2025-06-24 17:02:35] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624170235.mp3
[2025-06-24 17:02:36] [TEST] Audio generado y subido exitosamente: tts20250624170235.mp3
[2025-06-24 17:03:07] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 17:03:23] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 17:03:31] [TEST] Datos recibidos: {"action":"generate_audio","text":"hola como estan","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 17:03:31] [TEST] Iniciando generación de audio
[2025-06-24 17:03:31] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 17:03:31] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 17:03:31] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 17:03:31] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]},"emphasis_words":[]}
[2025-06-24 17:03:31] [TEST] Generando desde texto directo
[2025-06-24 17:03:31] [TEST] Texto original: hola como estan
[2025-06-24 17:03:31] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 17:03:31] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 17:03:31] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 17:03:31] [TEST] Usando énfasis avanzado
[2025-06-24 17:03:31] [TEST] Usando pausas avanzadas
[2025-06-24 17:03:31] [TEST] Texto procesado con SSML: <speak><prosody rate="medium">hola como estan</prosody></speak>
[2025-06-24 17:03:31] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 17:03:31] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 17:03:31] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 17:03:31] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 17:03:31] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"medium\">hola como estan<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 17:03:31] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 17:03:32] [TEST] Respuesta HTTP: 200
[2025-06-24 17:03:32] [TEST] Audio generado exitosamente, tamaño: 17181 bytes
[2025-06-24 17:03:32] [TEST] Archivo temporal creado para preview: test_1750784612.mp3
[2025-06-24 17:03:32] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750784612.mp3.copy
[2025-06-24 17:03:32] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 17:03:32] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685ada64c76ba.mp3' 2>&1
[2025-06-24 17:03:32] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685ada64c76ba.mp3
[2025-06-24 17:03:32] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685ada64da350.txt
[2025-06-24 17:03:32] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685ada64da350.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750784612_with_silence.mp3' 2>&1
[2025-06-24 17:03:33] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 17:03:33] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 114146 bytes
[2025-06-24 17:03:33] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624170333.mp3
[2025-06-24 17:03:33] [TEST] Audio generado y subido exitosamente: tts20250624170333.mp3
[2025-06-24 17:03:53] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 17:04:02] [TEST] Datos recibidos: {"action":"generate_audio","text":"probando el sistema\n","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 17:04:02] [TEST] Iniciando generación de audio
[2025-06-24 17:04:02] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 17:04:02] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 17:04:02] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 17:04:02] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]},"emphasis_words":[]}
[2025-06-24 17:04:02] [TEST] Generando desde texto directo
[2025-06-24 17:04:02] [TEST] Texto original: probando el sistema

[2025-06-24 17:04:02] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 17:04:02] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 17:04:02] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 17:04:02] [TEST] Usando énfasis avanzado
[2025-06-24 17:04:02] [TEST] Usando pausas avanzadas
[2025-06-24 17:04:02] [TEST] Texto procesado con SSML: <speak><prosody rate="medium">probando el sistema
</prosody></speak>
[2025-06-24 17:04:02] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 17:04:02] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 17:04:02] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 17:04:02] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 17:04:02] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"medium\">probando el sistema\n<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 17:04:02] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 17:04:04] [TEST] Respuesta HTTP: 200
[2025-06-24 17:04:04] [TEST] Audio generado exitosamente, tamaño: 23032 bytes
[2025-06-24 17:04:04] [TEST] Archivo temporal creado para preview: test_1750784644.mp3
[2025-06-24 17:04:04] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750784644.mp3.copy
[2025-06-24 17:04:04] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 17:04:04] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685ada845d3fe.mp3' 2>&1
[2025-06-24 17:04:04] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685ada845d3fe.mp3
[2025-06-24 17:04:04] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685ada8481bad.txt
[2025-06-24 17:04:04] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685ada8481bad.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750784644_with_silence.mp3' 2>&1
[2025-06-24 17:04:04] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 17:04:04] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 119998 bytes
[2025-06-24 17:04:04] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624170404.mp3
[2025-06-24 17:04:05] [TEST] Audio generado y subido exitosamente: tts20250624170404.mp3
[2025-06-24 17:10:40] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:08:22] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:08:27] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:08:42] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:11:00] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:11:23] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:11:28] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:13:02] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:13:06] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:13:10] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:13:16] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:14:10] [TEST] Datos recibidos: {"action":"generate_audio","text":"testing","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 18:14:10] [TEST] Iniciando generación de audio
[2025-06-24 18:14:10] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 18:14:10] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 18:14:10] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 18:14:10] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]},"emphasis_words":[]}
[2025-06-24 18:14:10] [TEST] Generando desde texto directo
[2025-06-24 18:14:10] [TEST] Texto original: testing
[2025-06-24 18:14:10] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 18:14:10] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 18:14:10] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 18:14:10] [TEST] Usando énfasis avanzado
[2025-06-24 18:14:10] [TEST] Usando pausas avanzadas
[2025-06-24 18:14:10] [TEST] Texto procesado con SSML: <speak><prosody rate="medium">testing</prosody></speak>
[2025-06-24 18:14:10] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 18:14:10] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 18:14:10] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 18:14:10] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 18:14:10] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"medium\">testing<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 18:14:10] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 18:14:11] [TEST] Respuesta HTTP: 200
[2025-06-24 18:14:11] [TEST] Audio generado exitosamente, tamaño: 14673 bytes
[2025-06-24 18:14:11] [TEST] Archivo temporal creado para preview: test_1750788851.mp3
[2025-06-24 18:14:11] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750788851.mp3.copy
[2025-06-24 18:14:12] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 18:14:12] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685aeaf400185.mp3' 2>&1
[2025-06-24 18:14:12] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685aeaf400185.mp3
[2025-06-24 18:14:12] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685aeaf414ee4.txt
[2025-06-24 18:14:12] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685aeaf414ee4.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750788851_with_silence.mp3' 2>&1
[2025-06-24 18:14:12] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 18:14:12] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 111639 bytes
[2025-06-24 18:14:12] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624181412.mp3
[2025-06-24 18:14:12] [TEST] Audio generado y subido exitosamente: tts20250624181412.mp3
[2025-06-24 18:14:36] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:14:54] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:15:02] [TEST] Datos recibidos: {"action":"generate_audio","text":"test","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 18:15:02] [TEST] Iniciando generación de audio
[2025-06-24 18:15:02] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 18:15:02] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 18:15:02] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 18:15:02] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]},"emphasis_words":[]}
[2025-06-24 18:15:02] [TEST] Generando desde texto directo
[2025-06-24 18:15:02] [TEST] Texto original: test
[2025-06-24 18:15:02] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 18:15:02] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 18:15:02] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 18:15:02] [TEST] Usando énfasis avanzado
[2025-06-24 18:15:02] [TEST] Usando pausas avanzadas
[2025-06-24 18:15:02] [TEST] Texto procesado con SSML: <speak><prosody rate="medium">test</prosody></speak>
[2025-06-24 18:15:02] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 18:15:02] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 18:15:02] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 18:15:02] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 18:15:02] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"medium\">test<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 18:15:02] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 18:15:03] [TEST] Respuesta HTTP: 200
[2025-06-24 18:15:03] [TEST] Audio generado exitosamente, tamaño: 13419 bytes
[2025-06-24 18:15:03] [TEST] Archivo temporal creado para preview: test_1750788903.mp3
[2025-06-24 18:15:03] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750788903.mp3.copy
[2025-06-24 18:15:03] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 18:15:03] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685aeb27d5d0c.mp3' 2>&1
[2025-06-24 18:15:03] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685aeb27d5d0c.mp3
[2025-06-24 18:15:03] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685aeb27e99f4.txt
[2025-06-24 18:15:03] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685aeb27e99f4.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750788903_with_silence.mp3' 2>&1
[2025-06-24 18:15:04] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 18:15:04] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 110385 bytes
[2025-06-24 18:15:04] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624181504.mp3
[2025-06-24 18:15:04] [TEST] Audio generado y subido exitosamente: tts20250624181504.mp3
[2025-06-24 18:19:29] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:20:29] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:32:49] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:32:55] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:33:06] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:34:59] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:35:03] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:35:17] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:41:02] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:44:27] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:44:37] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:47:57] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:49:51] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:49:59] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 18:56:44] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 19:09:20] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 19:09:43] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 19:25:25] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 19:25:29] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 19:25:32] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 19:35:10] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 19:35:14] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 19:37:38] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 19:37:55] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 19:51:24] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 19:52:11] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:25:52] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:28:51] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:28:58] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:41:40] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:41:48] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:41:51] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:41:55] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:42:11] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:48:25] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:48:38] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:48:57] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:52:21] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:53:09] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:55:07] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:55:40] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:56:38] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:59:33] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 20:59:58] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:01:37] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:02:47] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:05:05] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:05:30] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:05:38] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:05:43] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:07:32] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:08:53] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:09:35] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:09:39] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:11:36] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:13:06] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:17:19] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:17:25] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:17:29] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:20:55] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:21:04] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:27:43] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:29:05] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:30:19] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:32:10] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:32:14] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:33:44] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:36:23] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:39:08] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:39:12] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:40:36] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:41:21] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:41:37] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:42:49] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:46:47] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:47:19] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:47:24] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 21:47:52] [TEST] Datos recibidos: {"action":"generate_audio","text":"hola este es un test","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 21:47:52] [TEST] Iniciando generación de audio
[2025-06-24 21:47:52] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 21:47:52] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 21:47:52] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 21:47:52] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]},"emphasis_words":[]}
[2025-06-24 21:47:52] [TEST] Generando desde texto directo
[2025-06-24 21:47:52] [TEST] Texto original: hola este es un test
[2025-06-24 21:47:52] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 21:47:52] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 21:47:52] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 21:47:52] [TEST] Usando énfasis avanzado
[2025-06-24 21:47:52] [TEST] Usando pausas avanzadas
[2025-06-24 21:47:52] [TEST] Texto procesado con SSML: <speak><prosody rate="medium">hola este es un test</prosody></speak>
[2025-06-24 21:47:52] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 21:47:52] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 21:47:52] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 21:47:52] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 21:47:52] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"medium\">hola este es un test<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 21:47:52] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 21:47:53] [TEST] Respuesta HTTP: 200
[2025-06-24 21:47:53] [TEST] Audio generado exitosamente, tamaño: 23868 bytes
[2025-06-24 21:47:53] [TEST] Archivo temporal creado para preview: test_1750801673.mp3
[2025-06-24 21:47:53] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750801673.mp3.copy
[2025-06-24 21:47:53] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 21:47:53] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b1d09d6419.mp3' 2>&1
[2025-06-24 21:47:53] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b1d09d6419.mp3
[2025-06-24 21:47:53] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b1d09ed8b8.txt
[2025-06-24 21:47:53] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b1d09ed8b8.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750801673_with_silence.mp3' 2>&1
[2025-06-24 21:47:54] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 21:47:54] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 120834 bytes
[2025-06-24 21:47:54] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624214754.mp3
[2025-06-24 21:47:54] [TEST] Audio generado y subido exitosamente: tts20250624214754.mp3
[2025-06-24 22:03:29] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 22:05:08] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 22:05:21] [TEST] Datos recibidos: {"action":"generate_audio","text":"este es un test","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 22:05:21] [TEST] Iniciando generación de audio
[2025-06-24 22:05:21] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 22:05:21] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 22:05:21] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 22:05:21] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]},"emphasis_words":[]}
[2025-06-24 22:05:21] [TEST] Generando desde texto directo
[2025-06-24 22:05:21] [TEST] Texto original: este es un test
[2025-06-24 22:05:21] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 22:05:21] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 22:05:21] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 22:05:21] [TEST] Usando énfasis avanzado
[2025-06-24 22:05:21] [TEST] Usando pausas avanzadas
[2025-06-24 22:05:21] [TEST] Texto procesado con SSML: <speak><prosody rate="medium">este es un test</prosody></speak>
[2025-06-24 22:05:21] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:05:21] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 22:05:21] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 22:05:21] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:05:21] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"medium\">este es un test<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 22:05:21] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 22:05:22] [TEST] Respuesta HTTP: 200
[2025-06-24 22:05:22] [TEST] Audio generado exitosamente, tamaño: 19271 bytes
[2025-06-24 22:05:22] [TEST] Archivo temporal creado para preview: test_1750802722.mp3
[2025-06-24 22:05:22] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750802722.mp3.copy
[2025-06-24 22:05:22] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 22:05:22] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b21225fced.mp3' 2>&1
[2025-06-24 22:05:22] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b21225fced.mp3
[2025-06-24 22:05:22] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b212274b46.txt
[2025-06-24 22:05:22] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b212274b46.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750802722_with_silence.mp3' 2>&1
[2025-06-24 22:05:22] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 22:05:22] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 116236 bytes
[2025-06-24 22:05:22] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624220522.mp3
[2025-06-24 22:05:23] [TEST] Audio generado y subido exitosamente: tts20250624220522.mp3
[2025-06-24 22:07:50] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 22:07:58] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 22:08:02] [TEST] Datos recibidos: {"action":"generate_audio","text":"test","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 22:08:02] [TEST] Iniciando generación de audio
[2025-06-24 22:08:02] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 22:08:02] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 22:08:02] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 22:08:02] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]},"emphasis_words":[]}
[2025-06-24 22:08:02] [TEST] Generando desde texto directo
[2025-06-24 22:08:02] [TEST] Texto original: test
[2025-06-24 22:08:02] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 22:08:02] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 22:08:02] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 22:08:02] [TEST] Usando énfasis avanzado
[2025-06-24 22:08:02] [TEST] Usando pausas avanzadas
[2025-06-24 22:08:02] [TEST] Texto procesado con SSML: <speak><prosody rate="medium">test</prosody></speak>
[2025-06-24 22:08:02] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:08:02] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 22:08:02] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 22:08:02] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:08:02] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"medium\">test<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 22:08:02] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 22:08:03] [TEST] Respuesta HTTP: 200
[2025-06-24 22:08:03] [TEST] Audio generado exitosamente, tamaño: 13419 bytes
[2025-06-24 22:08:03] [TEST] Archivo temporal creado para preview: test_1750802883.mp3
[2025-06-24 22:08:03] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750802883.mp3.copy
[2025-06-24 22:08:04] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 22:08:04] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b21c410c01.mp3' 2>&1
[2025-06-24 22:08:04] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b21c410c01.mp3
[2025-06-24 22:08:04] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b21c42421d.txt
[2025-06-24 22:08:04] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b21c42421d.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750802883_with_silence.mp3' 2>&1
[2025-06-24 22:08:04] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 22:08:04] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 110385 bytes
[2025-06-24 22:08:04] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624220804.mp3
[2025-06-24 22:08:04] [TEST] Audio generado y subido exitosamente: tts20250624220804.mp3
[2025-06-24 22:10:33] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 22:12:27] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 22:13:53] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 22:14:02] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 22:14:38] [TEST] Datos recibidos: {"action":"generate_audio","text":"test 2","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 22:14:38] [TEST] Iniciando generación de audio
[2025-06-24 22:14:38] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 22:14:38] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 22:14:38] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 22:14:38] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]},"emphasis_words":[]}
[2025-06-24 22:14:38] [TEST] Generando desde texto directo
[2025-06-24 22:14:38] [TEST] Texto original: test 2
[2025-06-24 22:14:38] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 22:14:38] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 22:14:38] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 22:14:38] [TEST] Usando énfasis avanzado
[2025-06-24 22:14:38] [TEST] Usando pausas avanzadas
[2025-06-24 22:14:38] [TEST] Texto procesado con SSML: <speak><prosody rate="medium">test <emphasis level="medium">2</emphasis></prosody></speak>
[2025-06-24 22:14:38] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:14:38] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 22:14:38] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 22:14:38] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:14:38] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"medium\">test <emphasis level=\"medium\">2<\/emphasis><\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 22:14:38] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 22:14:40] [TEST] Respuesta HTTP: 200
[2025-06-24 22:14:40] [TEST] Audio generado exitosamente, tamaño: 14673 bytes
[2025-06-24 22:14:40] [TEST] Archivo temporal creado para preview: test_1750803280.mp3
[2025-06-24 22:14:40] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750803280.mp3.copy
[2025-06-24 22:14:40] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 22:14:40] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b23502f475.mp3' 2>&1
[2025-06-24 22:14:40] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b23502f475.mp3
[2025-06-24 22:14:40] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b23504543a.txt
[2025-06-24 22:14:40] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b23504543a.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750803280_with_silence.mp3' 2>&1
[2025-06-24 22:14:40] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 22:14:40] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 111639 bytes
[2025-06-24 22:14:40] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624221440.mp3
[2025-06-24 22:14:40] [TEST] Audio generado y subido exitosamente: tts20250624221440.mp3
[2025-06-24 22:29:33] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 22:29:41] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 22:29:51] [TEST] Datos recibidos: {"action":"generate_audio","text":"test","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 22:29:51] [TEST] Iniciando generación de audio
[2025-06-24 22:29:51] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 22:29:51] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 22:29:51] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 22:29:51] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]},"emphasis_words":[]}
[2025-06-24 22:29:51] [TEST] Generando desde texto directo
[2025-06-24 22:29:51] [TEST] Texto original: test
[2025-06-24 22:29:51] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 22:29:51] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 22:29:51] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 22:29:51] [TEST] Usando énfasis avanzado
[2025-06-24 22:29:51] [TEST] Usando pausas avanzadas
[2025-06-24 22:29:51] [TEST] Texto procesado con SSML: <speak><prosody rate="medium">test</prosody></speak>
[2025-06-24 22:29:51] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:29:51] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 22:29:51] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 22:29:51] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:29:51] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"medium\">test<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 22:29:51] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 22:29:53] [TEST] Respuesta HTTP: 200
[2025-06-24 22:29:53] [TEST] Audio generado exitosamente, tamaño: 13419 bytes
[2025-06-24 22:29:53] [TEST] Archivo temporal creado para preview: test_1750804193.mp3
[2025-06-24 22:29:53] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750804193.mp3.copy
[2025-06-24 22:29:53] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 22:29:53] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b26e11dae8.mp3' 2>&1
[2025-06-24 22:29:53] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b26e11dae8.mp3
[2025-06-24 22:29:53] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b26e131a8e.txt
[2025-06-24 22:29:53] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b26e131a8e.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750804193_with_silence.mp3' 2>&1
[2025-06-24 22:29:53] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 22:29:53] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 110385 bytes
[2025-06-24 22:29:53] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624222953.mp3
[2025-06-24 22:29:53] [TEST] Audio generado y subido exitosamente: tts20250624222953.mp3
[2025-06-24 22:31:12] [TEST] Datos recibidos: {"action":"generate_audio","text":"\u00a1No se lo pierdan! Gran show de magia familiar este s\u00e1bado 20 a las 4 de la tarde en el patio de comidas, No se olviden, este s\u00e1bado a las 4 de la tarde !","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 22:31:12] [TEST] Iniciando generación de audio
[2025-06-24 22:31:12] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 22:31:12] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 22:31:12] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 22:31:12] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]},"emphasis_words":[]}
[2025-06-24 22:31:12] [TEST] Generando desde texto directo
[2025-06-24 22:31:12] [TEST] Texto original: ¡No se lo pierdan! Gran show de magia familiar este sábado 20 a las 4 de la tarde en el patio de comidas, No se olviden, este sábado a las 4 de la tarde !
[2025-06-24 22:31:12] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 22:31:12] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 22:31:12] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 22:31:12] [TEST] Usando énfasis avanzado
[2025-06-24 22:31:12] [TEST] Usando pausas avanzadas
[2025-06-24 22:31:12] [TEST] Texto procesado con SSML: <speak><prosody rate="medium"><prosody pitch="+10%" volume="+2dB">¡No se lo pierdan!</prosody> <emphasis level="medium">Gran</emphasis> <emphasis level="medium">show</emphasis> de magia familiar este sábado <emphasis level="medium">20</emphasis> a las <emphasis level="medium">4</emphasis> de la tarde en el patio de comidas, <break time="0.2s"/> No se olviden, <break time="0.2s"/> este sábado a las <emphasis level="medium">4</emphasis> de la tarde !</prosody></speak>
[2025-06-24 22:31:12] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:31:12] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 22:31:12] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 22:31:12] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:31:12] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"medium\"><prosody pitch=\"+10%\" volume=\"+2dB\">\u00a1No se lo pierdan!<\/prosody> <emphasis level=\"medium\">Gran<\/emphasis> <emphasis level=\"medium\">show<\/emphasis> de magia familiar este s\u00e1bado <emphasis level=\"medium\">20<\/emphasis> a las <emphasis level=\"medium\">4<\/emphasis> de la tarde en el patio de comidas, <break time=\"0.2s\"\/> No se olviden, <break time=\"0.2s\"\/> este s\u00e1bado a las <emphasis level=\"medium\">4<\/emphasis> de la tarde !<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 22:31:12] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 22:31:15] [TEST] Respuesta HTTP: 200
[2025-06-24 22:31:15] [TEST] Audio generado exitosamente, tamaño: 161795 bytes
[2025-06-24 22:31:15] [TEST] Archivo temporal creado para preview: test_1750804275.mp3
[2025-06-24 22:31:15] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750804275.mp3.copy
[2025-06-24 22:31:15] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 22:31:15] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b27335e7ee.mp3' 2>&1
[2025-06-24 22:31:15] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b27335e7ee.mp3
[2025-06-24 22:31:15] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b27338483d.txt
[2025-06-24 22:31:15] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b27338483d.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750804275_with_silence.mp3' 2>&1
[2025-06-24 22:31:16] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 22:31:16] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 258760 bytes
[2025-06-24 22:31:16] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624223116.mp3
[2025-06-24 22:31:16] [TEST] Audio generado y subido exitosamente: tts20250624223116.mp3
[2025-06-24 22:31:33] [TEST] Datos recibidos: {"action":"generate_audio","text":"\u00a1No se lo pierdan! Gran show de magia familiar este s\u00e1bado 20 a las 4 de la tarde en el patio de comidas, No se olviden, este s\u00e1bado a las 4 de la tarde !","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 22:31:33] [TEST] Iniciando generación de audio
[2025-06-24 22:31:33] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 22:31:33] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 22:31:33] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 22:31:33] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]},"emphasis_words":[]}
[2025-06-24 22:31:33] [TEST] Generando desde texto directo
[2025-06-24 22:31:33] [TEST] Texto original: ¡No se lo pierdan! Gran show de magia familiar este sábado 20 a las 4 de la tarde en el patio de comidas, No se olviden, este sábado a las 4 de la tarde !
[2025-06-24 22:31:33] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 22:31:33] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 22:31:33] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 22:31:33] [TEST] Usando énfasis avanzado
[2025-06-24 22:31:33] [TEST] Usando pausas avanzadas
[2025-06-24 22:31:33] [TEST] Texto procesado con SSML: <speak><prosody rate="medium"><prosody pitch="+10%" volume="+2dB">¡No se lo pierdan!</prosody> <emphasis level="medium">Gran</emphasis> <emphasis level="medium">show</emphasis> de magia familiar este sábado <emphasis level="medium">20</emphasis> a las <emphasis level="medium">4</emphasis> de la tarde en el patio de comidas, <break time="0.2s"/> No se olviden, <break time="0.2s"/> este sábado a las <emphasis level="medium">4</emphasis> de la tarde !</prosody></speak>
[2025-06-24 22:31:33] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:31:33] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 22:31:33] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 22:31:33] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:31:33] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"medium\"><prosody pitch=\"+10%\" volume=\"+2dB\">\u00a1No se lo pierdan!<\/prosody> <emphasis level=\"medium\">Gran<\/emphasis> <emphasis level=\"medium\">show<\/emphasis> de magia familiar este s\u00e1bado <emphasis level=\"medium\">20<\/emphasis> a las <emphasis level=\"medium\">4<\/emphasis> de la tarde en el patio de comidas, <break time=\"0.2s\"\/> No se olviden, <break time=\"0.2s\"\/> este s\u00e1bado a las <emphasis level=\"medium\">4<\/emphasis> de la tarde !<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 22:31:33] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 22:31:35] [TEST] Respuesta HTTP: 200
[2025-06-24 22:31:35] [TEST] Audio generado exitosamente, tamaño: 167228 bytes
[2025-06-24 22:31:35] [TEST] Archivo temporal creado para preview: test_1750804295.mp3
[2025-06-24 22:31:35] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750804295.mp3.copy
[2025-06-24 22:31:35] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 22:31:35] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b27477d75f.mp3' 2>&1
[2025-06-24 22:31:35] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b27477d75f.mp3
[2025-06-24 22:31:35] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b27478f8d7.txt
[2025-06-24 22:31:35] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b27478f8d7.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750804295_with_silence.mp3' 2>&1
[2025-06-24 22:31:35] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 22:31:35] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 264194 bytes
[2025-06-24 22:31:35] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624223135.mp3
[2025-06-24 22:31:36] [TEST] Audio generado y subido exitosamente: tts20250624223135.mp3
[2025-06-24 22:33:04] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 22:33:14] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 22:38:49] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 22:48:01] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"muy_lento","emphasis":true,"test_mode":true,"test_speed_rate":50}
[2025-06-24 22:48:01] [TEST] Iniciando generación de audio
[2025-06-24 22:48:01] [TEST] Generator options completas: {"speed":"muy_lento","emphasis":true}
[2025-06-24 22:48:01] [TEST] Generando desde texto directo
[2025-06-24 22:48:01] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 22:48:01] [TEST] Speech Controls - processText options: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 22:48:01] [TEST] Usando énfasis simple
[2025-06-24 22:48:01] [TEST] Usando pausas simples
[2025-06-24 22:48:01] [TEST] Texto procesado con SSML: <speak><prosody rate="x-slow"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 22:48:01] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:48:01] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 22:48:01] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 22:48:01] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:48:01] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"x-slow\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 22:48:01] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 22:48:03] [TEST] Respuesta HTTP: 200
[2025-06-24 22:48:03] [TEST] Audio generado exitosamente, tamaño: 95757 bytes
[2025-06-24 22:48:03] [TEST] Archivo temporal creado para preview: test_1750805283.mp3
[2025-06-24 22:48:03] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750805283.mp3.copy
[2025-06-24 22:48:03] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 22:48:03] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b2b2322eb1.mp3' 2>&1
[2025-06-24 22:48:03] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b2b2322eb1.mp3
[2025-06-24 22:48:03] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b2b233e396.txt
[2025-06-24 22:48:03] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b2b233e396.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750805283_with_silence.mp3' 2>&1
[2025-06-24 22:48:03] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 22:48:03] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 192723 bytes
[2025-06-24 22:48:03] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624224803.mp3
[2025-06-24 22:48:03] [TEST] Audio generado y subido exitosamente: tts20250624224803.mp3
[2025-06-24 22:48:22] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"emergencia","emphasis":true,"test_mode":true,"test_speed_rate":150}
[2025-06-24 22:48:22] [TEST] Iniciando generación de audio
[2025-06-24 22:48:22] [TEST] Generator options completas: {"speed":"emergencia","emphasis":true}
[2025-06-24 22:48:22] [TEST] Generando desde texto directo
[2025-06-24 22:48:22] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 22:48:22] [TEST] Speech Controls - processText options: {"speed":"emergencia","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 22:48:22] [TEST] Usando énfasis simple
[2025-06-24 22:48:22] [TEST] Usando pausas simples
[2025-06-24 22:48:22] [TEST] Texto procesado con SSML: <speak><prosody rate="x-fast"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 22:48:22] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:48:22] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 22:48:22] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 22:48:22] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:48:22] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"x-fast\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 22:48:22] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 22:48:23] [TEST] Respuesta HTTP: 200
[2025-06-24 22:48:23] [TEST] Audio generado exitosamente, tamaño: 93667 bytes
[2025-06-24 22:48:23] [TEST] Archivo temporal creado para preview: test_1750805303.mp3
[2025-06-24 22:48:23] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750805303.mp3.copy
[2025-06-24 22:48:23] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 22:48:23] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b2b37a4924.mp3' 2>&1
[2025-06-24 22:48:23] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b2b37a4924.mp3
[2025-06-24 22:48:23] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b2b37ba698.txt
[2025-06-24 22:48:23] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b2b37ba698.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750805303_with_silence.mp3' 2>&1
[2025-06-24 22:48:24] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 22:48:24] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 190633 bytes
[2025-06-24 22:48:24] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624224824.mp3
[2025-06-24 22:48:24] [TEST] Audio generado y subido exitosamente: tts20250624224824.mp3
[2025-06-24 22:48:34] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"rapido","emphasis":true,"test_mode":true,"test_speed_rate":125}
[2025-06-24 22:48:34] [TEST] Iniciando generación de audio
[2025-06-24 22:48:34] [TEST] Generator options completas: {"speed":"rapido","emphasis":true}
[2025-06-24 22:48:34] [TEST] Generando desde texto directo
[2025-06-24 22:48:34] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 22:48:34] [TEST] Speech Controls - processText options: {"speed":"rapido","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 22:48:34] [TEST] Usando énfasis simple
[2025-06-24 22:48:34] [TEST] Usando pausas simples
[2025-06-24 22:48:34] [TEST] Texto procesado con SSML: <speak><prosody rate="fast"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 22:48:34] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:48:34] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 22:48:34] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 22:48:34] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:48:34] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"fast\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 22:48:34] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 22:48:36] [TEST] Respuesta HTTP: 200
[2025-06-24 22:48:36] [TEST] Audio generado exitosamente, tamaño: 95757 bytes
[2025-06-24 22:48:36] [TEST] Archivo temporal creado para preview: test_1750805316.mp3
[2025-06-24 22:48:36] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750805316.mp3.copy
[2025-06-24 22:48:36] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 22:48:36] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b2b44724e7.mp3' 2>&1
[2025-06-24 22:48:36] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b2b44724e7.mp3
[2025-06-24 22:48:36] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b2b4484fc8.txt
[2025-06-24 22:48:36] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b2b4484fc8.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750805316_with_silence.mp3' 2>&1
[2025-06-24 22:48:36] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 22:48:36] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 192723 bytes
[2025-06-24 22:48:36] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624224836.mp3
[2025-06-24 22:48:37] [TEST] Audio generado y subido exitosamente: tts20250624224836.mp3
[2025-06-24 22:58:58] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"muy_lento","emphasis":true,"test_mode":true,"test_speed_rate":50}
[2025-06-24 22:58:58] [TEST] Iniciando generación de audio
[2025-06-24 22:58:58] [TEST] Generator options completas: {"speed":"muy_lento","emphasis":true}
[2025-06-24 22:58:58] [TEST] Generando desde texto directo
[2025-06-24 22:58:58] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 22:58:58] [TEST] Speech Controls - processText options: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 22:58:58] [TEST] Usando énfasis simple
[2025-06-24 22:58:58] [TEST] Usando pausas simples
[2025-06-24 22:58:58] [TEST] Texto procesado con SSML: <speak><prosody rate="x-slow"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 22:58:58] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:58:58] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 22:58:58] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 22:58:58] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:58:58] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"x-slow\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 22:58:58] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 22:59:00] [TEST] Respuesta HTTP: 200
[2025-06-24 22:59:00] [TEST] Audio generado exitosamente, tamaño: 91996 bytes
[2025-06-24 22:59:00] [TEST] Archivo temporal creado para preview: test_1750805940.mp3
[2025-06-24 22:59:00] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750805940.mp3.copy
[2025-06-24 22:59:00] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 22:59:00] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b2db49711b.mp3' 2>&1
[2025-06-24 22:59:00] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b2db49711b.mp3
[2025-06-24 22:59:00] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b2db4beeeb.txt
[2025-06-24 22:59:00] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b2db4beeeb.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750805940_with_silence.mp3' 2>&1
[2025-06-24 22:59:01] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 22:59:01] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 188961 bytes
[2025-06-24 22:59:01] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624225901.mp3
[2025-06-24 22:59:03] [TEST] Audio generado y subido exitosamente: tts20250624225901.mp3
[2025-06-24 22:59:17] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"rapido","emphasis":true,"test_mode":true,"test_speed_rate":125}
[2025-06-24 22:59:17] [TEST] Iniciando generación de audio
[2025-06-24 22:59:17] [TEST] Generator options completas: {"speed":"rapido","emphasis":true}
[2025-06-24 22:59:17] [TEST] Generando desde texto directo
[2025-06-24 22:59:17] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 22:59:17] [TEST] Speech Controls - processText options: {"speed":"rapido","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 22:59:17] [TEST] Usando énfasis simple
[2025-06-24 22:59:17] [TEST] Usando pausas simples
[2025-06-24 22:59:17] [TEST] Texto procesado con SSML: <speak><prosody rate="fast"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 22:59:17] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:59:17] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 22:59:17] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 22:59:17] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 22:59:17] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"fast\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 22:59:17] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 22:59:19] [TEST] Respuesta HTTP: 200
[2025-06-24 22:59:19] [TEST] Audio generado exitosamente, tamaño: 94085 bytes
[2025-06-24 22:59:19] [TEST] Archivo temporal creado para preview: test_1750805959.mp3
[2025-06-24 22:59:19] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750805959.mp3.copy
[2025-06-24 22:59:19] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 22:59:19] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b2dc7b7d9e.mp3' 2>&1
[2025-06-24 22:59:19] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b2dc7b7d9e.mp3
[2025-06-24 22:59:19] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b2dc7cc231.txt
[2025-06-24 22:59:19] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b2dc7cc231.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750805959_with_silence.mp3' 2>&1
[2025-06-24 22:59:20] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 22:59:20] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 191051 bytes
[2025-06-24 22:59:20] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624225920.mp3
[2025-06-24 22:59:20] [TEST] Audio generado y subido exitosamente: tts20250624225920.mp3
[2025-06-24 23:03:26] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"muy_lento","emphasis":true,"test_mode":true,"test_speed_rate":50}
[2025-06-24 23:03:26] [TEST] Iniciando generación de audio
[2025-06-24 23:03:26] [TEST] Generator options completas: {"speed":"muy_lento","emphasis":true}
[2025-06-24 23:03:26] [TEST] Generando desde texto directo
[2025-06-24 23:03:26] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 23:03:26] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:03:26] [TEST] Speed recibido: muy_lento
[2025-06-24 23:03:26] [TEST] Speech options antes de processText: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:03:26] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:03:26] [TEST] [SPEECH-CONTROLS] Options: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:03:26] [TEST] [SPEECH-CONTROLS] Speed: muy_lento
[2025-06-24 23:03:26] [TEST] Speech Controls - processText options: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 23:03:26] [TEST] Usando énfasis simple
[2025-06-24 23:03:26] [TEST] Usando pausas simples
[2025-06-24 23:03:26] [TEST] Texto después de processText: <speak><prosody rate="x-slow"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:03:26] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:03:26] [TEST] Texto procesado con SSML: <speak><prosody rate="x-slow"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:03:26] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:03:26] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:03:26] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:03:26] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:03:26] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"x-slow\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:03:26] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:03:28] [TEST] Respuesta HTTP: 200
[2025-06-24 23:03:28] [TEST] Audio generado exitosamente, tamaño: 95757 bytes
[2025-06-24 23:03:28] [TEST] Archivo temporal creado para preview: test_1750806208.mp3
[2025-06-24 23:03:28] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750806208.mp3.copy
[2025-06-24 23:03:28] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:03:28] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b2ec0bb209.mp3' 2>&1
[2025-06-24 23:03:28] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b2ec0bb209.mp3
[2025-06-24 23:03:28] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b2ec0d12d1.txt
[2025-06-24 23:03:28] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b2ec0d12d1.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750806208_with_silence.mp3' 2>&1
[2025-06-24 23:03:29] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:03:29] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 192723 bytes
[2025-06-24 23:03:29] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624230329.mp3
[2025-06-24 23:03:29] [TEST] Audio generado y subido exitosamente: tts20250624230329.mp3
[2025-06-24 23:03:44] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"emergencia","emphasis":true,"test_mode":true,"test_speed_rate":150}
[2025-06-24 23:03:44] [TEST] Iniciando generación de audio
[2025-06-24 23:03:44] [TEST] Generator options completas: {"speed":"emergencia","emphasis":true}
[2025-06-24 23:03:44] [TEST] Generando desde texto directo
[2025-06-24 23:03:44] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 23:03:44] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:03:44] [TEST] Speed recibido: emergencia
[2025-06-24 23:03:44] [TEST] Speech options antes de processText: {"speed":"emergencia","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:03:44] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:03:44] [TEST] [SPEECH-CONTROLS] Options: {"speed":"emergencia","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:03:44] [TEST] [SPEECH-CONTROLS] Speed: emergencia
[2025-06-24 23:03:44] [TEST] Speech Controls - processText options: {"speed":"emergencia","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 23:03:44] [TEST] Usando énfasis simple
[2025-06-24 23:03:44] [TEST] Usando pausas simples
[2025-06-24 23:03:44] [TEST] Texto después de processText: <speak><prosody rate="x-fast"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:03:44] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:03:44] [TEST] Texto procesado con SSML: <speak><prosody rate="x-fast"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:03:44] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:03:44] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:03:44] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:03:44] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:03:44] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"x-fast\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:03:44] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:03:45] [TEST] Respuesta HTTP: 200
[2025-06-24 23:03:45] [TEST] Audio generado exitosamente, tamaño: 84472 bytes
[2025-06-24 23:03:45] [TEST] Archivo temporal creado para preview: test_1750806225.mp3
[2025-06-24 23:03:45] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750806225.mp3.copy
[2025-06-24 23:03:45] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:03:45] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b2ed1bb558.mp3' 2>&1
[2025-06-24 23:03:45] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b2ed1bb558.mp3
[2025-06-24 23:03:45] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b2ed1cebf2.txt
[2025-06-24 23:03:45] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b2ed1cebf2.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750806225_with_silence.mp3' 2>&1
[2025-06-24 23:03:46] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:03:46] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 181438 bytes
[2025-06-24 23:03:46] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624230346.mp3
[2025-06-24 23:03:46] [TEST] Audio generado y subido exitosamente: tts20250624230346.mp3
[2025-06-24 23:08:43] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"muy_lento","emphasis":true,"test_mode":true,"test_speed_rate":50}
[2025-06-24 23:08:43] [TEST] Iniciando generación de audio
[2025-06-24 23:08:43] [TEST] Generator options completas: {"speed":"muy_lento","emphasis":true}
[2025-06-24 23:08:43] [TEST] Generando desde texto directo
[2025-06-24 23:08:43] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 23:08:43] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:08:43] [TEST] Speed recibido: muy_lento
[2025-06-24 23:08:43] [TEST] Speech options antes de processText: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:08:43] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:08:43] [TEST] [SPEECH-CONTROLS] Options: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:08:43] [TEST] [SPEECH-CONTROLS] Speed: muy_lento
[2025-06-24 23:08:43] [TEST] Speech Controls - processText options: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 23:08:43] [TEST] Usando énfasis simple
[2025-06-24 23:08:43] [TEST] Usando pausas simples
[2025-06-24 23:08:43] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: muy_lento = 50%
[2025-06-24 23:08:43] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="50%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody>
[2025-06-24 23:08:43] [TEST] Texto después de processText: <speak><prosody rate="50%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:08:43] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:08:43] [TEST] Texto procesado con SSML: <speak><prosody rate="50%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:08:43] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:08:43] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:08:43] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:08:43] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:08:43] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"50%\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:08:43] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:08:44] [TEST] Respuesta HTTP: 200
[2025-06-24 23:08:44] [TEST] Audio generado exitosamente, tamaño: 94085 bytes
[2025-06-24 23:08:44] [TEST] Archivo temporal creado para preview: test_1750806524.mp3
[2025-06-24 23:08:44] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750806524.mp3.copy
[2025-06-24 23:08:44] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:08:44] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b2ffccc3a6.mp3' 2>&1
[2025-06-24 23:08:44] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b2ffccc3a6.mp3
[2025-06-24 23:08:44] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b2ffce2469.txt
[2025-06-24 23:08:44] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b2ffce2469.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750806524_with_silence.mp3' 2>&1
[2025-06-24 23:08:45] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:08:45] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 191051 bytes
[2025-06-24 23:08:45] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624230845.mp3
[2025-06-24 23:08:45] [TEST] Audio generado y subido exitosamente: tts20250624230845.mp3
[2025-06-24 23:09:08] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"emergencia","emphasis":true,"test_mode":true,"test_speed_rate":150}
[2025-06-24 23:09:08] [TEST] Iniciando generación de audio
[2025-06-24 23:09:08] [TEST] Generator options completas: {"speed":"emergencia","emphasis":true}
[2025-06-24 23:09:08] [TEST] Generando desde texto directo
[2025-06-24 23:09:08] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 23:09:08] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:09:08] [TEST] Speed recibido: emergencia
[2025-06-24 23:09:08] [TEST] Speech options antes de processText: {"speed":"emergencia","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:09:08] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:09:08] [TEST] [SPEECH-CONTROLS] Options: {"speed":"emergencia","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:09:08] [TEST] [SPEECH-CONTROLS] Speed: emergencia
[2025-06-24 23:09:08] [TEST] Speech Controls - processText options: {"speed":"emergencia","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 23:09:08] [TEST] Usando énfasis simple
[2025-06-24 23:09:08] [TEST] Usando pausas simples
[2025-06-24 23:09:08] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: emergencia = 150%
[2025-06-24 23:09:08] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="150%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody>
[2025-06-24 23:09:08] [TEST] Texto después de processText: <speak><prosody rate="150%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:09:08] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:09:08] [TEST] Texto procesado con SSML: <speak><prosody rate="150%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:09:08] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:09:08] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:09:08] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:09:08] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:09:08] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"150%\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:09:08] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:09:10] [TEST] Respuesta HTTP: 200
[2025-06-24 23:09:10] [TEST] Audio generado exitosamente, tamaño: 95757 bytes
[2025-06-24 23:09:10] [TEST] Archivo temporal creado para preview: test_1750806550.mp3
[2025-06-24 23:09:10] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750806550.mp3.copy
[2025-06-24 23:09:10] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:09:10] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b30168fc59.mp3' 2>&1
[2025-06-24 23:09:10] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b30168fc59.mp3
[2025-06-24 23:09:10] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b3016a7cb4.txt
[2025-06-24 23:09:10] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b3016a7cb4.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750806550_with_silence.mp3' 2>&1
[2025-06-24 23:09:10] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:09:10] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 192723 bytes
[2025-06-24 23:09:10] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624230910.mp3
[2025-06-24 23:09:11] [TEST] Audio generado y subido exitosamente: tts20250624230910.mp3
[2025-06-24 23:11:31] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"muy_lento","emphasis":true,"test_mode":true,"test_speed_rate":50}
[2025-06-24 23:11:31] [TEST] Iniciando generación de audio
[2025-06-24 23:11:31] [TEST] Generator options completas: {"speed":"muy_lento","emphasis":true}
[2025-06-24 23:11:31] [TEST] Generando desde texto directo
[2025-06-24 23:11:31] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 23:11:31] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:11:31] [TEST] Speed recibido: muy_lento
[2025-06-24 23:11:31] [TEST] Speech options antes de processText: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:11:31] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:11:31] [TEST] [SPEECH-CONTROLS] Options: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:11:31] [TEST] [SPEECH-CONTROLS] Speed: muy_lento
[2025-06-24 23:11:31] [TEST] Speech Controls - processText options: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 23:11:31] [TEST] Usando énfasis simple
[2025-06-24 23:11:31] [TEST] Usando pausas simples
[2025-06-24 23:11:31] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: muy_lento = 50%
[2025-06-24 23:11:31] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="50%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody>
[2025-06-24 23:11:31] [TEST] Texto después de processText: <speak><prosody rate="50%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:11:31] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:11:31] [TEST] Texto procesado con SSML: <speak><prosody rate="50%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:11:31] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:11:31] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:11:31] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:11:31] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:11:31] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"50%\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:11:31] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:11:33] [TEST] Respuesta HTTP: 200
[2025-06-24 23:11:33] [TEST] Audio generado exitosamente, tamaño: 86144 bytes
[2025-06-24 23:11:33] [TEST] Archivo temporal creado para preview: test_1750806693.mp3
[2025-06-24 23:11:33] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750806693.mp3.copy
[2025-06-24 23:11:33] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:11:33] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b30a58e9d1.mp3' 2>&1
[2025-06-24 23:11:33] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b30a58e9d1.mp3
[2025-06-24 23:11:33] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b30a5a05e6.txt
[2025-06-24 23:11:33] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b30a5a05e6.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750806693_with_silence.mp3' 2>&1
[2025-06-24 23:11:33] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:11:33] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 183110 bytes
[2025-06-24 23:11:33] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624231133.mp3
[2025-06-24 23:11:34] [TEST] Audio generado y subido exitosamente: tts20250624231133.mp3
[2025-06-24 23:11:57] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"emergencia","emphasis":true,"test_mode":true,"test_speed_rate":150}
[2025-06-24 23:11:57] [TEST] Iniciando generación de audio
[2025-06-24 23:11:57] [TEST] Generator options completas: {"speed":"emergencia","emphasis":true}
[2025-06-24 23:11:57] [TEST] Generando desde texto directo
[2025-06-24 23:11:57] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 23:11:57] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:11:57] [TEST] Speed recibido: emergencia
[2025-06-24 23:11:57] [TEST] Speech options antes de processText: {"speed":"emergencia","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:11:57] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:11:57] [TEST] [SPEECH-CONTROLS] Options: {"speed":"emergencia","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:11:57] [TEST] [SPEECH-CONTROLS] Speed: emergencia
[2025-06-24 23:11:57] [TEST] Speech Controls - processText options: {"speed":"emergencia","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 23:11:57] [TEST] Usando énfasis simple
[2025-06-24 23:11:57] [TEST] Usando pausas simples
[2025-06-24 23:11:57] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: emergencia = 150%
[2025-06-24 23:11:57] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="150%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody>
[2025-06-24 23:11:57] [TEST] Texto después de processText: <speak><prosody rate="150%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:11:57] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:11:57] [TEST] Texto procesado con SSML: <speak><prosody rate="150%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:11:57] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:11:57] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:11:57] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:11:57] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:11:57] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"150%\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:11:57] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:11:58] [TEST] Respuesta HTTP: 200
[2025-06-24 23:11:58] [TEST] Audio generado exitosamente, tamaño: 94921 bytes
[2025-06-24 23:11:58] [TEST] Archivo temporal creado para preview: test_1750806718.mp3
[2025-06-24 23:11:58] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750806718.mp3.copy
[2025-06-24 23:11:59] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:11:59] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b30bf08811.mp3' 2>&1
[2025-06-24 23:11:59] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b30bf08811.mp3
[2025-06-24 23:11:59] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b30bf1c01b.txt
[2025-06-24 23:11:59] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b30bf1c01b.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750806718_with_silence.mp3' 2>&1
[2025-06-24 23:11:59] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:11:59] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 191887 bytes
[2025-06-24 23:11:59] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624231159.mp3
[2025-06-24 23:11:59] [TEST] Audio generado y subido exitosamente: tts20250624231159.mp3
[2025-06-24 23:12:49] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"muy_lento","emphasis":true,"test_mode":true,"test_speed_rate":50}
[2025-06-24 23:12:49] [TEST] Iniciando generación de audio
[2025-06-24 23:12:49] [TEST] Generator options completas: {"speed":"muy_lento","emphasis":true}
[2025-06-24 23:12:49] [TEST] Generando desde texto directo
[2025-06-24 23:12:49] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 23:12:49] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:12:49] [TEST] Speed recibido: muy_lento
[2025-06-24 23:12:49] [TEST] Speech options antes de processText: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:12:49] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:12:49] [TEST] [SPEECH-CONTROLS] Options: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:12:49] [TEST] [SPEECH-CONTROLS] Speed: muy_lento
[2025-06-24 23:12:49] [TEST] Speech Controls - processText options: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 23:12:49] [TEST] Usando énfasis simple
[2025-06-24 23:12:49] [TEST] Usando pausas simples
[2025-06-24 23:12:49] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: muy_lento = 50%
[2025-06-24 23:12:49] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="50%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody>
[2025-06-24 23:12:49] [TEST] Texto después de processText: <speak><prosody rate="50%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:12:49] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:12:49] [TEST] Texto procesado con SSML: <speak><prosody rate="50%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:12:49] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:12:49] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:12:49] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:12:49] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:12:49] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"50%\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:12:49] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:12:51] [TEST] Respuesta HTTP: 200
[2025-06-24 23:12:51] [TEST] Audio generado exitosamente, tamaño: 86980 bytes
[2025-06-24 23:12:51] [TEST] Archivo temporal creado para preview: test_1750806771.mp3
[2025-06-24 23:12:51] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750806771.mp3.copy
[2025-06-24 23:12:51] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:12:51] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b30f374e3c.mp3' 2>&1
[2025-06-24 23:12:51] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b30f374e3c.mp3
[2025-06-24 23:12:51] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b30f388eb2.txt
[2025-06-24 23:12:51] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b30f388eb2.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750806771_with_silence.mp3' 2>&1
[2025-06-24 23:12:51] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:12:51] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 183946 bytes
[2025-06-24 23:12:51] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624231251.mp3
[2025-06-24 23:12:52] [TEST] Audio generado y subido exitosamente: tts20250624231251.mp3
[2025-06-24 23:13:02] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"rapido","emphasis":true,"test_mode":true,"test_speed_rate":125}
[2025-06-24 23:13:02] [TEST] Iniciando generación de audio
[2025-06-24 23:13:02] [TEST] Generator options completas: {"speed":"rapido","emphasis":true}
[2025-06-24 23:13:02] [TEST] Generando desde texto directo
[2025-06-24 23:13:02] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 23:13:02] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:13:02] [TEST] Speed recibido: rapido
[2025-06-24 23:13:02] [TEST] Speech options antes de processText: {"speed":"rapido","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:13:02] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:13:02] [TEST] [SPEECH-CONTROLS] Options: {"speed":"rapido","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:13:02] [TEST] [SPEECH-CONTROLS] Speed: rapido
[2025-06-24 23:13:02] [TEST] Speech Controls - processText options: {"speed":"rapido","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 23:13:02] [TEST] Usando énfasis simple
[2025-06-24 23:13:02] [TEST] Usando pausas simples
[2025-06-24 23:13:02] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: rapido = 125%
[2025-06-24 23:13:02] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="125%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody>
[2025-06-24 23:13:02] [TEST] Texto después de processText: <speak><prosody rate="125%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:13:02] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:13:02] [TEST] Texto procesado con SSML: <speak><prosody rate="125%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:13:02] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:13:02] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:13:02] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:13:02] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:13:02] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"125%\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:13:02] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:13:04] [TEST] Respuesta HTTP: 200
[2025-06-24 23:13:04] [TEST] Audio generado exitosamente, tamaño: 97429 bytes
[2025-06-24 23:13:04] [TEST] Archivo temporal creado para preview: test_1750806784.mp3
[2025-06-24 23:13:04] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750806784.mp3.copy
[2025-06-24 23:13:04] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:13:04] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b3100d93ce.mp3' 2>&1
[2025-06-24 23:13:04] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b3100d93ce.mp3
[2025-06-24 23:13:04] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b3100ec701.txt
[2025-06-24 23:13:04] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b3100ec701.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750806784_with_silence.mp3' 2>&1
[2025-06-24 23:13:05] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:13:05] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 194395 bytes
[2025-06-24 23:13:05] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624231305.mp3
[2025-06-24 23:13:05] [TEST] Audio generado y subido exitosamente: tts20250624231305.mp3
[2025-06-24 23:16:00] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"muy_lento","emphasis":true,"test_mode":true,"test_speed_rate":50}
[2025-06-24 23:16:00] [TEST] Iniciando generación de audio
[2025-06-24 23:16:00] [TEST] Generator options completas: {"speed":"muy_lento","emphasis":true}
[2025-06-24 23:16:00] [TEST] Generando desde texto directo
[2025-06-24 23:16:00] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 23:16:00] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:16:00] [TEST] Speed recibido: muy_lento
[2025-06-24 23:16:00] [TEST] Speech options antes de processText: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:16:00] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:16:00] [TEST] [SPEECH-CONTROLS] Options: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:16:00] [TEST] [SPEECH-CONTROLS] Speed: muy_lento
[2025-06-24 23:16:00] [TEST] Speech Controls - processText options: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 23:16:00] [TEST] Usando énfasis simple
[2025-06-24 23:16:00] [TEST] Usando pausas simples
[2025-06-24 23:16:00] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: muy_lento = 50%
[2025-06-24 23:16:00] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="50%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody>
[2025-06-24 23:16:00] [TEST] Texto después de processText: <speak><prosody rate="50%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:16:00] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:16:00] [TEST] Texto procesado con SSML: <speak><prosody rate="50%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:16:00] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:16:00] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_turbo_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:16:00] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:16:00] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:16:00] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"50%\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_turbo_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:16:00] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:16:00] [TEST] Respuesta HTTP: 200
[2025-06-24 23:16:00] [TEST] Audio generado exitosamente, tamaño: 89070 bytes
[2025-06-24 23:16:00] [TEST] Archivo temporal creado para preview: test_1750806960.mp3
[2025-06-24 23:16:00] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750806960.mp3.copy
[2025-06-24 23:16:01] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:16:01] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b31b1063e2.mp3' 2>&1
[2025-06-24 23:16:01] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b31b1063e2.mp3
[2025-06-24 23:16:01] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b31b12d725.txt
[2025-06-24 23:16:01] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b31b12d725.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750806960_with_silence.mp3' 2>&1
[2025-06-24 23:16:01] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:16:01] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 186035 bytes
[2025-06-24 23:16:01] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624231601.mp3
[2025-06-24 23:16:04] [TEST] Audio generado y subido exitosamente: tts20250624231601.mp3
[2025-06-24 23:16:14] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"emergencia","emphasis":true,"test_mode":true,"test_speed_rate":150}
[2025-06-24 23:16:14] [TEST] Iniciando generación de audio
[2025-06-24 23:16:14] [TEST] Generator options completas: {"speed":"emergencia","emphasis":true}
[2025-06-24 23:16:14] [TEST] Generando desde texto directo
[2025-06-24 23:16:14] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 23:16:14] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:16:14] [TEST] Speed recibido: emergencia
[2025-06-24 23:16:14] [TEST] Speech options antes de processText: {"speed":"emergencia","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:16:14] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:16:14] [TEST] [SPEECH-CONTROLS] Options: {"speed":"emergencia","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:16:14] [TEST] [SPEECH-CONTROLS] Speed: emergencia
[2025-06-24 23:16:14] [TEST] Speech Controls - processText options: {"speed":"emergencia","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 23:16:14] [TEST] Usando énfasis simple
[2025-06-24 23:16:14] [TEST] Usando pausas simples
[2025-06-24 23:16:14] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: emergencia = 150%
[2025-06-24 23:16:14] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="150%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody>
[2025-06-24 23:16:14] [TEST] Texto después de processText: <speak><prosody rate="150%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:16:14] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:16:14] [TEST] Texto procesado con SSML: <speak><prosody rate="150%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:16:14] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:16:14] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_turbo_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:16:14] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:16:14] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:16:14] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"150%\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_turbo_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:16:14] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:16:15] [TEST] Respuesta HTTP: 200
[2025-06-24 23:16:15] [TEST] Audio generado exitosamente, tamaño: 94921 bytes
[2025-06-24 23:16:15] [TEST] Archivo temporal creado para preview: test_1750806975.mp3
[2025-06-24 23:16:15] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750806975.mp3.copy
[2025-06-24 23:16:15] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:16:15] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b31bf42686.mp3' 2>&1
[2025-06-24 23:16:15] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b31bf42686.mp3
[2025-06-24 23:16:15] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b31bf5abb6.txt
[2025-06-24 23:16:15] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b31bf5abb6.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750806975_with_silence.mp3' 2>&1
[2025-06-24 23:16:15] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:16:15] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 191887 bytes
[2025-06-24 23:16:15] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624231615.mp3
[2025-06-24 23:16:16] [TEST] Audio generado y subido exitosamente: tts20250624231615.mp3
[2025-06-24 23:34:49] [TEST] Datos recibidos: {"action":"generate_audio","text":"La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 23:34:49] [TEST] Iniciando generación de audio
[2025-06-24 23:34:49] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:34:49] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:34:49] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 23:34:49] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]},"emphasis_words":[]}
[2025-06-24 23:34:49] [TEST] Generando desde texto directo
[2025-06-24 23:34:49] [TEST] Texto original: La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, pero generalmente trata sobre la relación entre un gato y un ratón,
[2025-06-24 23:34:49] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:34:49] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 23:34:49] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:34:49] [TEST] Speed recibido: normal
[2025-06-24 23:34:49] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 23:34:49] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:34:49] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 23:34:49] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:34:49] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 23:34:49] [TEST] Usando énfasis avanzado
[2025-06-24 23:34:49] [TEST] Usando pausas avanzadas
[2025-06-24 23:34:49] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:34:49] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody>
[2025-06-24 23:34:49] [TEST] Texto después de processText: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:34:49] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:34:49] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:34:49] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:34:49] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:34:49] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:34:49] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:34:49] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, <break time=\"0.2s\"\/> pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:34:49] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:34:51] [TEST] Respuesta HTTP: 200
[2025-06-24 23:34:51] [TEST] Audio generado exitosamente, tamaño: 165556 bytes
[2025-06-24 23:34:51] [TEST] Archivo temporal creado para preview: test_1750808091.mp3
[2025-06-24 23:34:51] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750808091.mp3.copy
[2025-06-24 23:34:51] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:34:51] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b361b7b0c6.mp3' 2>&1
[2025-06-24 23:34:51] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b361b7b0c6.mp3
[2025-06-24 23:34:51] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b361b9025b.txt
[2025-06-24 23:34:51] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b361b9025b.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750808091_with_silence.mp3' 2>&1
[2025-06-24 23:34:51] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:34:51] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 262522 bytes
[2025-06-24 23:34:51] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624233451.mp3
[2025-06-24 23:34:52] [TEST] Audio generado y subido exitosamente: tts20250624233451.mp3
[2025-06-24 23:35:10] [TEST] Datos recibidos: {"action":"generate_audio","text":"La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":1,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 23:35:10] [TEST] Iniciando generación de audio
[2025-06-24 23:35:10] [TEST] Voice settings recibidos: {"style":1,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:35:10] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:35:10] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 23:35:10] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":1,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]},"emphasis_words":[]}
[2025-06-24 23:35:10] [TEST] Generando desde texto directo
[2025-06-24 23:35:10] [TEST] Texto original: La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, pero generalmente trata sobre la relación entre un gato y un ratón,
[2025-06-24 23:35:10] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:35:10] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 23:35:10] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:35:10] [TEST] Speed recibido: normal
[2025-06-24 23:35:10] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 23:35:10] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:35:10] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 23:35:10] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:35:10] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 23:35:10] [TEST] Usando énfasis avanzado
[2025-06-24 23:35:10] [TEST] Usando pausas avanzadas
[2025-06-24 23:35:10] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:35:10] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody>
[2025-06-24 23:35:10] [TEST] Texto después de processText: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:35:10] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:35:10] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:35:10] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":1,"use_speaker_boost":true}
[2025-06-24 23:35:10] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":1,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:35:10] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:35:10] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":1,"use_speaker_boost":true}
[2025-06-24 23:35:10] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, <break time=\"0.2s\"\/> pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":1,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:35:10] [TEST] Voice settings finales: style=1, stability=0.75, similarity=0.8
[2025-06-24 23:35:12] [TEST] Respuesta HTTP: 200
[2025-06-24 23:35:12] [TEST] Audio generado exitosamente, tamaño: 159705 bytes
[2025-06-24 23:35:12] [TEST] Archivo temporal creado para preview: test_1750808112.mp3
[2025-06-24 23:35:12] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750808112.mp3.copy
[2025-06-24 23:35:12] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:35:12] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b3630ecbbf.mp3' 2>&1
[2025-06-24 23:35:13] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b3630ecbbf.mp3
[2025-06-24 23:35:13] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b36310d96d.txt
[2025-06-24 23:35:13] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b36310d96d.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750808112_with_silence.mp3' 2>&1
[2025-06-24 23:35:13] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:35:13] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 256671 bytes
[2025-06-24 23:35:13] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624233513.mp3
[2025-06-24 23:35:13] [TEST] Audio generado y subido exitosamente: tts20250624233513.mp3
[2025-06-24 23:36:01] [TEST] Datos recibidos: {"action":"generate_audio","text":"La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.29,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 23:36:01] [TEST] Iniciando generación de audio
[2025-06-24 23:36:01] [TEST] Voice settings recibidos: {"style":0.29,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:36:01] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:36:01] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 23:36:01] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.29,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]},"emphasis_words":[]}
[2025-06-24 23:36:01] [TEST] Generando desde texto directo
[2025-06-24 23:36:01] [TEST] Texto original: La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, pero generalmente trata sobre la relación entre un gato y un ratón,
[2025-06-24 23:36:01] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:36:01] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[]}
[2025-06-24 23:36:01] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:36:01] [TEST] Speed recibido: normal
[2025-06-24 23:36:01] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 23:36:01] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:36:01] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 23:36:01] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:36:01] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[]}}
[2025-06-24 23:36:01] [TEST] Usando énfasis avanzado
[2025-06-24 23:36:01] [TEST] Usando pausas avanzadas
[2025-06-24 23:36:01] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:36:01] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody>
[2025-06-24 23:36:01] [TEST] Texto después de processText: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:36:01] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:36:01] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:36:01] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.29,"use_speaker_boost":true}
[2025-06-24 23:36:01] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.29,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:36:01] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:36:01] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.29,"use_speaker_boost":true}
[2025-06-24 23:36:01] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, <break time=\"0.2s\"\/> pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.29,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:36:01] [TEST] Voice settings finales: style=0.29, stability=0.75, similarity=0.8
[2025-06-24 23:36:03] [TEST] Respuesta HTTP: 200
[2025-06-24 23:36:03] [TEST] Audio generado exitosamente, tamaño: 159705 bytes
[2025-06-24 23:36:03] [TEST] Archivo temporal creado para preview: test_1750808163.mp3
[2025-06-24 23:36:03] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750808163.mp3.copy
[2025-06-24 23:36:03] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:36:03] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b3663da053.mp3' 2>&1
[2025-06-24 23:36:03] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b3663da053.mp3
[2025-06-24 23:36:03] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b3663f08de.txt
[2025-06-24 23:36:03] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b3663f08de.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750808163_with_silence.mp3' 2>&1
[2025-06-24 23:36:04] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:36:04] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 256671 bytes
[2025-06-24 23:36:04] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624233604.mp3
[2025-06-24 23:36:04] [TEST] Audio generado y subido exitosamente: tts20250624233604.mp3
[2025-06-24 23:36:35] [TEST] Datos recibidos: {"action":"generate_audio","text":"La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.29,"stability":0.5,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true}}
[2025-06-24 23:36:35] [TEST] Iniciando generación de audio
[2025-06-24 23:36:35] [TEST] Voice settings recibidos: {"style":0.29,"stability":0.5,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:36:35] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:36:35] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:36:35] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.29,"stability":0.5,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"emphasis_words":[]}
[2025-06-24 23:36:35] [TEST] Generando desde texto directo
[2025-06-24 23:36:35] [TEST] Texto original: La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, pero generalmente trata sobre la relación entre un gato y un ratón,
[2025-06-24 23:36:35] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:36:35] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:36:35] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:36:35] [TEST] Speed recibido: normal
[2025-06-24 23:36:35] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true}}
[2025-06-24 23:36:35] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:36:35] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true}}
[2025-06-24 23:36:35] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:36:35] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true}}
[2025-06-24 23:36:35] [TEST] Usando énfasis avanzado
[2025-06-24 23:36:35] [TEST] Usando pausas avanzadas
[2025-06-24 23:36:35] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:36:35] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody>
[2025-06-24 23:36:35] [TEST] Texto después de processText: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:36:35] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:36:35] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:36:35] [TEST] Voice settings finales: {"stability":0.5,"similarity_boost":0.8,"style":0.29,"use_speaker_boost":true}
[2025-06-24 23:36:35] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.5,"similarity_boost":0.8,"style":0.29,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:36:35] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:36:35] [TEST] Voice settings mezclados con frontend: {"stability":0.5,"similarity_boost":0.8,"style":0.29,"use_speaker_boost":true}
[2025-06-24 23:36:35] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, <break time=\"0.2s\"\/> pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.5,"similarity_boost":0.8,"style":0.29,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:36:35] [TEST] Voice settings finales: style=0.29, stability=0.5, similarity=0.8
[2025-06-24 23:36:37] [TEST] Respuesta HTTP: 200
[2025-06-24 23:36:37] [TEST] Audio generado exitosamente, tamaño: 161795 bytes
[2025-06-24 23:36:37] [TEST] Archivo temporal creado para preview: test_1750808197.mp3
[2025-06-24 23:36:37] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750808197.mp3.copy
[2025-06-24 23:36:37] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:36:37] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b36855b8ee.mp3' 2>&1
[2025-06-24 23:36:37] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b36855b8ee.mp3
[2025-06-24 23:36:37] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b368570442.txt
[2025-06-24 23:36:37] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b368570442.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750808197_with_silence.mp3' 2>&1
[2025-06-24 23:36:37] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:36:37] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 258760 bytes
[2025-06-24 23:36:37] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624233637.mp3
[2025-06-24 23:36:38] [TEST] Audio generado y subido exitosamente: tts20250624233637.mp3
[2025-06-24 23:36:50] [TEST] Datos recibidos: {"action":"generate_audio","text":"La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.29,"stability":0.5,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}}
[2025-06-24 23:36:50] [TEST] Iniciando generación de audio
[2025-06-24 23:36:50] [TEST] Voice settings recibidos: {"style":0.29,"stability":0.5,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:36:50] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:36:50] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:36:50] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.29,"stability":0.5,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true},"emphasis_words":[]}
[2025-06-24 23:36:50] [TEST] Generando desde texto directo
[2025-06-24 23:36:50] [TEST] Texto original: La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, pero generalmente trata sobre la relación entre un gato y un ratón,
[2025-06-24 23:36:50] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:36:50] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:36:50] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:36:50] [TEST] Speed recibido: normal
[2025-06-24 23:36:50] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}}
[2025-06-24 23:36:50] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:36:50] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}}
[2025-06-24 23:36:50] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:36:50] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}}
[2025-06-24 23:36:50] [TEST] Usando énfasis avanzado
[2025-06-24 23:36:50] [TEST] Usando pausas avanzadas
[2025-06-24 23:36:50] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:36:50] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody>
[2025-06-24 23:36:50] [TEST] Texto después de processText: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:36:50] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:36:50] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:36:50] [TEST] Voice settings finales: {"stability":0.5,"similarity_boost":0.8,"style":0.29,"use_speaker_boost":true}
[2025-06-24 23:36:50] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.5,"similarity_boost":0.8,"style":0.29,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:36:50] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:36:50] [TEST] Voice settings mezclados con frontend: {"stability":0.5,"similarity_boost":0.8,"style":0.29,"use_speaker_boost":true}
[2025-06-24 23:36:50] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, <break time=\"0.2s\"\/> pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.5,"similarity_boost":0.8,"style":0.29,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:36:50] [TEST] Voice settings finales: style=0.29, stability=0.5, similarity=0.8
[2025-06-24 23:36:52] [TEST] Respuesta HTTP: 200
[2025-06-24 23:36:52] [TEST] Audio generado exitosamente, tamaño: 158033 bytes
[2025-06-24 23:36:52] [TEST] Archivo temporal creado para preview: test_1750808212.mp3
[2025-06-24 23:36:52] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750808212.mp3.copy
[2025-06-24 23:36:52] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:36:52] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b3694b6ce6.mp3' 2>&1
[2025-06-24 23:36:52] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b3694b6ce6.mp3
[2025-06-24 23:36:52] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b3694cb553.txt
[2025-06-24 23:36:52] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b3694cb553.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750808212_with_silence.mp3' 2>&1
[2025-06-24 23:36:53] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:36:53] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 254999 bytes
[2025-06-24 23:36:53] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624233653.mp3
[2025-06-24 23:36:53] [TEST] Audio generado y subido exitosamente: tts20250624233653.mp3
[2025-06-24 23:37:32] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 23:38:11] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 23:38:35] [TEST] Datos recibidos: {"action":"generate_audio","text":"La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}}
[2025-06-24 23:38:35] [TEST] Iniciando generación de audio
[2025-06-24 23:38:35] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:38:35] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:38:35] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:38:35] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true},"emphasis_words":[]}
[2025-06-24 23:38:35] [TEST] Generando desde texto directo
[2025-06-24 23:38:35] [TEST] Texto original: La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, pero generalmente trata sobre la relación entre un gato y un ratón,
[2025-06-24 23:38:35] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:38:35] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:38:35] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:38:35] [TEST] Speed recibido: normal
[2025-06-24 23:38:35] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}}
[2025-06-24 23:38:35] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:38:35] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}}
[2025-06-24 23:38:35] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:38:35] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}}
[2025-06-24 23:38:35] [TEST] Usando énfasis avanzado
[2025-06-24 23:38:35] [TEST] Usando pausas avanzadas
[2025-06-24 23:38:35] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:38:35] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody>
[2025-06-24 23:38:35] [TEST] Texto después de processText: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:38:35] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:38:35] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:38:35] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:38:35] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 23:38:35] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:38:35] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:38:35] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, <break time=\"0.2s\"\/> pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 23:38:35] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:38:38] [TEST] Respuesta HTTP: 200
[2025-06-24 23:38:38] [TEST] Audio generado exitosamente, tamaño: 162631 bytes
[2025-06-24 23:38:38] [TEST] Archivo temporal creado para preview: test_1750808318.mp3
[2025-06-24 23:38:38] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750808318.mp3.copy
[2025-06-24 23:38:38] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:38:38] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b36fe46c84.mp3' 2>&1
[2025-06-24 23:38:38] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b36fe46c84.mp3
[2025-06-24 23:38:38] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b36fe5d2b9.txt
[2025-06-24 23:38:38] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b36fe5d2b9.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750808318_with_silence.mp3' 2>&1
[2025-06-24 23:38:38] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:38:38] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 259596 bytes
[2025-06-24 23:38:38] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624233838.mp3
[2025-06-24 23:38:39] [TEST] Audio generado y subido exitosamente: tts20250624233838.mp3
[2025-06-24 23:39:28] [TEST] Datos recibidos: {"action":"generate_audio","text":"La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,","voice":"cristian","speed":"normal","emphasis":true,"voice_settings":{"style":0.65,"stability":0.7,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:39:28] [TEST] Iniciando generación de audio
[2025-06-24 23:39:28] [TEST] Voice settings recibidos: {"style":0.65,"stability":0.7,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:39:28] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:39:28] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:39:28] [TEST] Modulation settings recibidos: {"pitch":15,"volume":3,"dynamic_rate":true}
[2025-06-24 23:39:28] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.65,"stability":0.7,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true},"emphasis_words":[],"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:39:28] [TEST] Generando desde texto directo
[2025-06-24 23:39:28] [TEST] Texto original: La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, pero generalmente trata sobre la relación entre un gato y un ratón,
[2025-06-24 23:39:28] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:39:28] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:39:28] [TEST] Pasando modulation_settings a speech-controls: {"pitch":15,"volume":3,"dynamic_rate":true}
[2025-06-24 23:39:28] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:39:28] [TEST] Speed recibido: normal
[2025-06-24 23:39:28] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:39:28] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:39:28] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:39:28] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:39:28] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:39:28] [TEST] Usando énfasis avanzado
[2025-06-24 23:39:28] [TEST] Usando pausas avanzadas
[2025-06-24 23:39:28] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:39:28] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody>
[2025-06-24 23:39:28] [TEST] Texto después de processText: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:39:28] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:39:28] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:39:28] [TEST] Voice settings finales: {"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true}
[2025-06-24 23:39:28] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 23:39:28] [TEST] TTS Enhanced - Voz: cristian -> ID: nNS8uylvF9GBWVSiIt5h
[2025-06-24 23:39:28] [TEST] Voice settings mezclados con frontend: {"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true}
[2025-06-24 23:39:28] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, <break time=\"0.2s\"\/> pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 23:39:28] [TEST] Voice settings finales: style=0.65, stability=0.7, similarity=0.8
[2025-06-24 23:39:30] [TEST] Respuesta HTTP: 200
[2025-06-24 23:39:30] [TEST] Audio generado exitosamente, tamaño: 130866 bytes
[2025-06-24 23:39:30] [TEST] Archivo temporal creado para preview: test_1750808370.mp3
[2025-06-24 23:39:30] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750808370.mp3.copy
[2025-06-24 23:39:30] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:39:30] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b373220ac4.mp3' 2>&1
[2025-06-24 23:39:30] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b373220ac4.mp3
[2025-06-24 23:39:30] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b373236d2b.txt
[2025-06-24 23:39:30] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b373236d2b.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750808370_with_silence.mp3' 2>&1
[2025-06-24 23:39:30] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:39:30] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 227831 bytes
[2025-06-24 23:39:30] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624233930.mp3
[2025-06-24 23:39:30] [TEST] Audio generado y subido exitosamente: tts20250624233930.mp3
[2025-06-24 23:39:53] [TEST] Datos recibidos: {"action":"generate_audio","text":"La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,","voice":"cristian","speed":"normal","emphasis":true,"voice_settings":{"style":0.65,"stability":0.7,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":-20,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:39:53] [TEST] Iniciando generación de audio
[2025-06-24 23:39:53] [TEST] Voice settings recibidos: {"style":0.65,"stability":0.7,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:39:53] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:39:53] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:39:53] [TEST] Modulation settings recibidos: {"pitch":-20,"volume":3,"dynamic_rate":true}
[2025-06-24 23:39:53] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.65,"stability":0.7,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"emphasis_words":[],"modulation_settings":{"pitch":-20,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:39:53] [TEST] Generando desde texto directo
[2025-06-24 23:39:53] [TEST] Texto original: La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, pero generalmente trata sobre la relación entre un gato y un ratón,
[2025-06-24 23:39:53] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:39:53] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:39:53] [TEST] Pasando modulation_settings a speech-controls: {"pitch":-20,"volume":3,"dynamic_rate":true}
[2025-06-24 23:39:53] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:39:53] [TEST] Speed recibido: normal
[2025-06-24 23:39:53] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":-20,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:39:53] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:39:53] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":-20,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:39:53] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:39:53] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":-20,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:39:53] [TEST] Usando énfasis avanzado
[2025-06-24 23:39:53] [TEST] Usando pausas avanzadas
[2025-06-24 23:39:53] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:39:53] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody>
[2025-06-24 23:39:53] [TEST] Texto después de processText: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:39:53] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:39:53] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:39:53] [TEST] Voice settings finales: {"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true}
[2025-06-24 23:39:53] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true},"language":"es","enable_ssml":false,"seed":null}
[2025-06-24 23:39:53] [TEST] TTS Enhanced - Voz: cristian -> ID: nNS8uylvF9GBWVSiIt5h
[2025-06-24 23:39:53] [TEST] Voice settings mezclados con frontend: {"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true}
[2025-06-24 23:39:53] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, <break time=\"0.2s\"\/> pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true},"enable_ssml":false}
[2025-06-24 23:39:53] [TEST] Voice settings finales: style=0.65, stability=0.7, similarity=0.8
[2025-06-24 23:39:56] [TEST] Respuesta HTTP: 200
[2025-06-24 23:39:56] [TEST] Audio generado exitosamente, tamaño: 133791 bytes
[2025-06-24 23:39:56] [TEST] Archivo temporal creado para preview: test_1750808396.mp3
[2025-06-24 23:39:56] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750808396.mp3.copy
[2025-06-24 23:39:56] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:39:56] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b374c1efd0.mp3' 2>&1
[2025-06-24 23:39:56] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b374c1efd0.mp3
[2025-06-24 23:39:56] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b374c343a2.txt
[2025-06-24 23:39:56] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b374c343a2.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750808396_with_silence.mp3' 2>&1
[2025-06-24 23:39:56] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:39:56] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 230757 bytes
[2025-06-24 23:39:56] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624233956.mp3
[2025-06-24 23:39:56] [TEST] Audio generado y subido exitosamente: tts20250624233956.mp3
[2025-06-24 23:40:21] [TEST] Datos recibidos: {"action":"list_templates"}
[2025-06-24 23:41:22] [TEST] Datos recibidos: {"action":"generate_audio","text":"La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,","voice":"cristian","speed":"normal","emphasis":true,"voice_settings":{"style":0.65,"stability":0.7,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":20,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:41:22] [TEST] Iniciando generación de audio
[2025-06-24 23:41:22] [TEST] Voice settings recibidos: {"style":0.65,"stability":0.7,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:41:22] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:41:22] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:41:22] [TEST] Modulation settings recibidos: {"pitch":20,"volume":3,"dynamic_rate":true}
[2025-06-24 23:41:22] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.65,"stability":0.7,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"emphasis_words":[],"modulation_settings":{"pitch":20,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:41:22] [TEST] Generando desde texto directo
[2025-06-24 23:41:22] [TEST] Texto original: La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, pero generalmente trata sobre la relación entre un gato y un ratón,
[2025-06-24 23:41:22] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:41:22] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:41:22] [TEST] Pasando modulation_settings a speech-controls: {"pitch":20,"volume":3,"dynamic_rate":true}
[2025-06-24 23:41:22] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:41:22] [TEST] Speed recibido: normal
[2025-06-24 23:41:22] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":20,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:41:22] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:41:22] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":20,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:41:22] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:41:22] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":20,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:41:22] [TEST] Usando énfasis avanzado
[2025-06-24 23:41:22] [TEST] Usando pausas avanzadas
[2025-06-24 23:41:22] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:41:22] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody>
[2025-06-24 23:41:22] [TEST] Texto después de processText: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:41:22] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:41:22] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón,</prosody></speak>
[2025-06-24 23:41:22] [TEST] Voice settings finales: {"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true}
[2025-06-24 23:41:22] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:41:22] [TEST] TTS Enhanced - Voz: cristian -> ID: nNS8uylvF9GBWVSiIt5h
[2025-06-24 23:41:22] [TEST] Voice settings mezclados con frontend: {"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true}
[2025-06-24 23:41:22] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, <break time=\"0.2s\"\/> pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n,<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:41:22] [TEST] Voice settings finales: style=0.65, stability=0.7, similarity=0.8
[2025-06-24 23:41:24] [TEST] Respuesta HTTP: 200
[2025-06-24 23:41:24] [TEST] Audio generado exitosamente, tamaño: 124178 bytes
[2025-06-24 23:41:24] [TEST] Archivo temporal creado para preview: test_1750808484.mp3
[2025-06-24 23:41:24] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750808484.mp3.copy
[2025-06-24 23:41:24] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:41:24] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b37a476596.mp3' 2>&1
[2025-06-24 23:41:24] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b37a476596.mp3
[2025-06-24 23:41:24] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b37a48daa9.txt
[2025-06-24 23:41:24] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b37a48daa9.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750808484_with_silence.mp3' 2>&1
[2025-06-24 23:41:24] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:41:24] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 221144 bytes
[2025-06-24 23:41:24] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624234124.mp3
[2025-06-24 23:41:25] [TEST] Audio generado y subido exitosamente: tts20250624234124.mp3
[2025-06-24 23:43:31] [TEST] Datos recibidos: {"action":"generate_audio","text":"La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n.","voice":"cristian","speed":"normal","emphasis":true,"voice_settings":{"style":0.65,"stability":0.7,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:43:31] [TEST] Iniciando generación de audio
[2025-06-24 23:43:31] [TEST] Voice settings recibidos: {"style":0.65,"stability":0.7,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:43:31] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:43:31] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:43:31] [TEST] Modulation settings recibidos: {"pitch":15,"volume":3,"dynamic_rate":true}
[2025-06-24 23:43:31] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.65,"stability":0.7,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"emphasis_words":[],"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:43:31] [TEST] Generando desde texto directo
[2025-06-24 23:43:31] [TEST] Texto original: La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, pero generalmente trata sobre la relación entre un gato y un ratón.
[2025-06-24 23:43:31] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:43:31] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:43:31] [TEST] Pasando modulation_settings a speech-controls: {"pitch":15,"volume":3,"dynamic_rate":true}
[2025-06-24 23:43:31] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:43:31] [TEST] Speed recibido: normal
[2025-06-24 23:43:31] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:43:31] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:43:31] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:43:31] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:43:31] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"strong","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:43:31] [TEST] Usando énfasis avanzado
[2025-06-24 23:43:31] [TEST] Usando pausas avanzadas
[2025-06-24 23:43:31] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:43:31] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón.</prosody>
[2025-06-24 23:43:31] [TEST] Texto después de processText: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón.</prosody></speak>
[2025-06-24 23:43:31] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:43:31] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón.</prosody></speak>
[2025-06-24 23:43:31] [TEST] Voice settings finales: {"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true}
[2025-06-24 23:43:31] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:43:31] [TEST] TTS Enhanced - Voz: cristian -> ID: nNS8uylvF9GBWVSiIt5h
[2025-06-24 23:43:31] [TEST] Voice settings mezclados con frontend: {"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true}
[2025-06-24 23:43:31] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, <break time=\"0.2s\"\/> pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.7,"similarity_boost":0.8,"style":0.65,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:43:31] [TEST] Voice settings finales: style=0.65, stability=0.7, similarity=0.8
[2025-06-24 23:43:33] [TEST] Respuesta HTTP: 200
[2025-06-24 23:43:33] [TEST] Audio generado exitosamente, tamaño: 121671 bytes
[2025-06-24 23:43:33] [TEST] Archivo temporal creado para preview: test_1750808613.mp3
[2025-06-24 23:43:33] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750808613.mp3.copy
[2025-06-24 23:43:33] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:43:33] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b38251cc2b.mp3' 2>&1
[2025-06-24 23:43:33] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b38251cc2b.mp3
[2025-06-24 23:43:33] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b382530ce4.txt
[2025-06-24 23:43:33] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b382530ce4.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750808613_with_silence.mp3' 2>&1
[2025-06-24 23:43:33] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:43:33] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 218636 bytes
[2025-06-24 23:43:33] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624234333.mp3
[2025-06-24 23:43:33] [TEST] Audio generado y subido exitosamente: tts20250624234333.mp3
[2025-06-24 23:44:37] [TEST] Datos recibidos: {"action":"generate_audio","text":"La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n.","voice":"cristian","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":-5,"volume":-2,"dynamic_rate":false}}
[2025-06-24 23:44:37] [TEST] Iniciando generación de audio
[2025-06-24 23:44:37] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:44:37] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:44:37] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:44:37] [TEST] Modulation settings recibidos: {"pitch":-5,"volume":-2,"dynamic_rate":false}
[2025-06-24 23:44:37] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true},"emphasis_words":[],"modulation_settings":{"pitch":-5,"volume":-2,"dynamic_rate":false}}
[2025-06-24 23:44:37] [TEST] Generando desde texto directo
[2025-06-24 23:44:37] [TEST] Texto original: La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, pero generalmente trata sobre la relación entre un gato y un ratón.
[2025-06-24 23:44:37] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:44:37] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:44:37] [TEST] Pasando modulation_settings a speech-controls: {"pitch":-5,"volume":-2,"dynamic_rate":false}
[2025-06-24 23:44:37] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:44:37] [TEST] Speed recibido: normal
[2025-06-24 23:44:37] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":-5,"volume":-2,"dynamic_rate":false}}
[2025-06-24 23:44:37] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:44:37] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":-5,"volume":-2,"dynamic_rate":false}}
[2025-06-24 23:44:37] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:44:37] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"soft","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":-5,"volume":-2,"dynamic_rate":false}}
[2025-06-24 23:44:37] [TEST] Usando énfasis avanzado
[2025-06-24 23:44:37] [TEST] Usando pausas avanzadas
[2025-06-24 23:44:37] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:44:37] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón.</prosody>
[2025-06-24 23:44:37] [TEST] Texto después de processText: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón.</prosody></speak>
[2025-06-24 23:44:37] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:44:37] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón.</prosody></speak>
[2025-06-24 23:44:37] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:44:37] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:44:37] [TEST] TTS Enhanced - Voz: cristian -> ID: nNS8uylvF9GBWVSiIt5h
[2025-06-24 23:44:37] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:44:37] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, <break time=\"0.2s\"\/> pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:44:37] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:44:39] [TEST] Respuesta HTTP: 200
[2025-06-24 23:44:39] [TEST] Audio generado exitosamente, tamaño: 132120 bytes
[2025-06-24 23:44:39] [TEST] Archivo temporal creado para preview: test_1750808679.mp3
[2025-06-24 23:44:39] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750808679.mp3.copy
[2025-06-24 23:44:39] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:44:39] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b38678c74f.mp3' 2>&1
[2025-06-24 23:44:39] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b38678c74f.mp3
[2025-06-24 23:44:39] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b3867a3e99.txt
[2025-06-24 23:44:39] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b3867a3e99.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750808679_with_silence.mp3' 2>&1
[2025-06-24 23:44:39] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:44:39] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 229085 bytes
[2025-06-24 23:44:39] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624234439.mp3
[2025-06-24 23:44:40] [TEST] Audio generado y subido exitosamente: tts20250624234439.mp3
[2025-06-24 23:45:23] [TEST] Datos recibidos: {"action":"generate_audio","text":"La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n.","voice":"cristian","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":0,"volume":0,"dynamic_rate":false}}
[2025-06-24 23:45:23] [TEST] Iniciando generación de audio
[2025-06-24 23:45:23] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:45:23] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:45:23] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:45:23] [TEST] Modulation settings recibidos: {"pitch":0,"volume":0,"dynamic_rate":false}
[2025-06-24 23:45:23] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"emphasis_words":[],"modulation_settings":{"pitch":0,"volume":0,"dynamic_rate":false}}
[2025-06-24 23:45:23] [TEST] Generando desde texto directo
[2025-06-24 23:45:23] [TEST] Texto original: La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, pero generalmente trata sobre la relación entre un gato y un ratón.
[2025-06-24 23:45:23] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:45:23] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:45:23] [TEST] Pasando modulation_settings a speech-controls: {"pitch":0,"volume":0,"dynamic_rate":false}
[2025-06-24 23:45:23] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:45:23] [TEST] Speed recibido: normal
[2025-06-24 23:45:23] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":0,"volume":0,"dynamic_rate":false}}
[2025-06-24 23:45:23] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:45:23] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":0,"volume":0,"dynamic_rate":false}}
[2025-06-24 23:45:23] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:45:23] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":0,"volume":0,"dynamic_rate":false}}
[2025-06-24 23:45:23] [TEST] Usando énfasis avanzado
[2025-06-24 23:45:23] [TEST] Usando pausas avanzadas
[2025-06-24 23:45:23] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:45:23] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón.</prosody>
[2025-06-24 23:45:23] [TEST] Texto después de processText: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón.</prosody></speak>
[2025-06-24 23:45:23] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:45:23] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón.</prosody></speak>
[2025-06-24 23:45:23] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:45:23] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:45:23] [TEST] TTS Enhanced - Voz: cristian -> ID: nNS8uylvF9GBWVSiIt5h
[2025-06-24 23:45:23] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:45:23] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, <break time=\"0.2s\"\/> pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:45:23] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:45:25] [TEST] Respuesta HTTP: 200
[2025-06-24 23:45:25] [TEST] Audio generado exitosamente, tamaño: 127104 bytes
[2025-06-24 23:45:25] [TEST] Archivo temporal creado para preview: test_1750808725.mp3
[2025-06-24 23:45:25] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750808725.mp3.copy
[2025-06-24 23:45:25] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:45:25] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b38958d40f.mp3' 2>&1
[2025-06-24 23:45:25] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b38958d40f.mp3
[2025-06-24 23:45:25] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b3895a4859.txt
[2025-06-24 23:45:25] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b3895a4859.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750808725_with_silence.mp3' 2>&1
[2025-06-24 23:45:25] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:45:25] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 224070 bytes
[2025-06-24 23:45:25] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624234525.mp3
[2025-06-24 23:45:26] [TEST] Audio generado y subido exitosamente: tts20250624234525.mp3
[2025-06-24 23:45:46] [TEST] Datos recibidos: {"action":"generate_audio","text":"La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n.","voice":"cristian","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:45:46] [TEST] Iniciando generación de audio
[2025-06-24 23:45:46] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:45:46] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:45:46] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:45:46] [TEST] Modulation settings recibidos: {"pitch":15,"volume":3,"dynamic_rate":true}
[2025-06-24 23:45:46] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"emphasis_words":[],"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:45:46] [TEST] Generando desde texto directo
[2025-06-24 23:45:46] [TEST] Texto original: La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, pero generalmente trata sobre la relación entre un gato y un ratón.
[2025-06-24 23:45:46] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:45:46] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:45:46] [TEST] Pasando modulation_settings a speech-controls: {"pitch":15,"volume":3,"dynamic_rate":true}
[2025-06-24 23:45:46] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:45:46] [TEST] Speed recibido: normal
[2025-06-24 23:45:46] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:45:46] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:45:46] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:45:46] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:45:46] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:45:46] [TEST] Usando énfasis avanzado
[2025-06-24 23:45:46] [TEST] Usando pausas avanzadas
[2025-06-24 23:45:46] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:45:46] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón.</prosody>
[2025-06-24 23:45:46] [TEST] Texto después de processText: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón.</prosody></speak>
[2025-06-24 23:45:46] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:45:46] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón.</prosody></speak>
[2025-06-24 23:45:46] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:45:46] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:45:46] [TEST] TTS Enhanced - Voz: cristian -> ID: nNS8uylvF9GBWVSiIt5h
[2025-06-24 23:45:46] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:45:46] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, <break time=\"0.2s\"\/> pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:45:46] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:45:48] [TEST] Respuesta HTTP: 200
[2025-06-24 23:45:48] [TEST] Audio generado exitosamente, tamaño: 128358 bytes
[2025-06-24 23:45:48] [TEST] Archivo temporal creado para preview: test_1750808748.mp3
[2025-06-24 23:45:48] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750808748.mp3.copy
[2025-06-24 23:45:48] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:45:48] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b38ac4cf9e.mp3' 2>&1
[2025-06-24 23:45:48] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b38ac4cf9e.mp3
[2025-06-24 23:45:48] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b38ac65a4f.txt
[2025-06-24 23:45:48] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b38ac65a4f.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750808748_with_silence.mp3' 2>&1
[2025-06-24 23:45:48] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:45:48] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 225324 bytes
[2025-06-24 23:45:48] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624234548.mp3
[2025-06-24 23:45:49] [TEST] Audio generado y subido exitosamente: tts20250624234548.mp3
[2025-06-24 23:46:11] [TEST] Datos recibidos: {"action":"generate_audio","text":"La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n.","voice":"cristian","speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:46:11] [TEST] Iniciando generación de audio
[2025-06-24 23:46:11] [TEST] Voice settings recibidos: {"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:46:11] [TEST] Pause settings recibidos: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:46:11] [TEST] Emphasis settings recibidos: {"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:46:11] [TEST] Modulation settings recibidos: {"pitch":15,"volume":3,"dynamic_rate":true}
[2025-06-24 23:46:11] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0.5,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true},"pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"emphasis_words":[],"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:46:11] [TEST] Generando desde texto directo
[2025-06-24 23:46:11] [TEST] Texto original: La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, pero generalmente trata sobre la relación entre un gato y un ratón.
[2025-06-24 23:46:11] [TEST] Pasando pause_settings a speech-controls: {"enabled":true,"sentence":0.5,"comma":0.2}
[2025-06-24 23:46:11] [TEST] Pasando emphasis_settings a speech-controls: {"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true}
[2025-06-24 23:46:11] [TEST] Pasando modulation_settings a speech-controls: {"pitch":15,"volume":3,"dynamic_rate":true}
[2025-06-24 23:46:11] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:46:11] [TEST] Speed recibido: normal
[2025-06-24 23:46:11] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:46:11] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:46:11] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:46:11] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:46:11] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral","pause_settings":{"enabled":true,"sentence":0.5,"comma":0.2},"emphasis_settings":{"enabled":true,"level":"medium","custom_words":[],"auto_numbers":true,"auto_prices":true},"modulation_settings":{"pitch":15,"volume":3,"dynamic_rate":true}}
[2025-06-24 23:46:11] [TEST] Usando énfasis avanzado
[2025-06-24 23:46:11] [TEST] Usando pausas avanzadas
[2025-06-24 23:46:11] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:46:11] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón.</prosody>
[2025-06-24 23:46:11] [TEST] Texto después de processText: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón.</prosody></speak>
[2025-06-24 23:46:11] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:46:11] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">La historia del gato y el ratón es una fábula clásica que se encuentra en diversas versiones, <break time="0.2s"/> pero generalmente trata sobre la relación entre un gato y un ratón.</prosody></speak>
[2025-06-24 23:46:11] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:46:11] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:46:11] [TEST] TTS Enhanced - Voz: cristian -> ID: nNS8uylvF9GBWVSiIt5h
[2025-06-24 23:46:11] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:46:11] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">La historia del gato y el rat\u00f3n es una f\u00e1bula cl\u00e1sica que se encuentra en diversas versiones, <break time=\"0.2s\"\/> pero generalmente trata sobre la relaci\u00f3n entre un gato y un rat\u00f3n.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:46:11] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:46:13] [TEST] Respuesta HTTP: 200
[2025-06-24 23:46:13] [TEST] Audio generado exitosamente, tamaño: 127104 bytes
[2025-06-24 23:46:13] [TEST] Archivo temporal creado para preview: test_1750808773.mp3
[2025-06-24 23:46:13] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750808773.mp3.copy
[2025-06-24 23:46:13] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:46:13] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b38c52bbc7.mp3' 2>&1
[2025-06-24 23:46:13] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b38c52bbc7.mp3
[2025-06-24 23:46:13] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b38c540b7d.txt
[2025-06-24 23:46:13] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b38c540b7d.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750808773_with_silence.mp3' 2>&1
[2025-06-24 23:46:13] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:46:13] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 224070 bytes
[2025-06-24 23:46:13] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624234613.mp3
[2025-06-24 23:46:14] [TEST] Audio generado y subido exitosamente: tts20250624234613.mp3
[2025-06-24 23:57:56] [TEST] Datos recibidos: {"action":"generate_audio","text":"Uno, dos, tres, cuatro, cinco. Esta es una prueba de velocidad.","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}}
[2025-06-24 23:57:56] [TEST] Iniciando generación de audio
[2025-06-24 23:57:56] [TEST] Voice settings recibidos: {"style":0,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:57:56] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}}
[2025-06-24 23:57:56] [TEST] Generando desde texto directo
[2025-06-24 23:57:56] [TEST] Texto original: Uno, dos, tres, cuatro, cinco. Esta es una prueba de velocidad.
[2025-06-24 23:57:56] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:57:56] [TEST] Speed recibido: normal
[2025-06-24 23:57:56] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:57:56] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:57:56] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:57:56] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:57:56] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 23:57:56] [TEST] Usando énfasis simple
[2025-06-24 23:57:56] [TEST] Usando pausas simples
[2025-06-24 23:57:56] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:57:56] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco. <break time="0.5s"/> Esta es una prueba de velocidad.</prosody>
[2025-06-24 23:57:56] [TEST] Texto después de processText: <speak><prosody rate="100%">Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco. <break time="0.5s"/> Esta es una prueba de velocidad.</prosody></speak>
[2025-06-24 23:57:56] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:57:56] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco. <break time="0.5s"/> Esta es una prueba de velocidad.</prosody></speak>
[2025-06-24 23:57:56] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0,"use_speaker_boost":true}
[2025-06-24 23:57:56] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:57:56] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:57:56] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0,"use_speaker_boost":true}
[2025-06-24 23:57:56] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco. <break time=\"0.5s\"\/> Esta es una prueba de velocidad.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:57:56] [TEST] Voice settings finales: style=0, stability=0.75, similarity=0.8
[2025-06-24 23:57:57] [TEST] Datos recibidos: {"action":"generate_audio","text":"Uno, dos, tres, cuatro, cinco. Esta es una prueba de velocidad.","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}}
[2025-06-24 23:57:57] [TEST] Iniciando generación de audio
[2025-06-24 23:57:57] [TEST] Voice settings recibidos: {"style":0,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:57:57] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}}
[2025-06-24 23:57:57] [TEST] Generando desde texto directo
[2025-06-24 23:57:57] [TEST] Texto original: Uno, dos, tres, cuatro, cinco. Esta es una prueba de velocidad.
[2025-06-24 23:57:57] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:57:57] [TEST] Speed recibido: normal
[2025-06-24 23:57:57] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:57:57] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:57:57] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:57:57] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:57:57] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 23:57:57] [TEST] Usando énfasis simple
[2025-06-24 23:57:57] [TEST] Usando pausas simples
[2025-06-24 23:57:57] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:57:57] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco. <break time="0.5s"/> Esta es una prueba de velocidad.</prosody>
[2025-06-24 23:57:57] [TEST] Texto después de processText: <speak><prosody rate="100%">Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco. <break time="0.5s"/> Esta es una prueba de velocidad.</prosody></speak>
[2025-06-24 23:57:57] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:57:57] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco. <break time="0.5s"/> Esta es una prueba de velocidad.</prosody></speak>
[2025-06-24 23:57:57] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0,"use_speaker_boost":true}
[2025-06-24 23:57:57] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:57:57] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:57:57] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0,"use_speaker_boost":true}
[2025-06-24 23:57:57] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco. <break time=\"0.5s\"\/> Esta es una prueba de velocidad.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:57:57] [TEST] Voice settings finales: style=0, stability=0.75, similarity=0.8
[2025-06-24 23:57:57] [TEST] Datos recibidos: {"action":"generate_audio","text":"Uno, dos, tres, cuatro, cinco. Esta es una prueba de velocidad.","voice":"fernanda","speed":"normal","emphasis":true,"voice_settings":{"style":0,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}}
[2025-06-24 23:57:57] [TEST] Iniciando generación de audio
[2025-06-24 23:57:57] [TEST] Voice settings recibidos: {"style":0,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}
[2025-06-24 23:57:57] [TEST] Generator options completas: {"speed":"normal","emphasis":true,"voice_settings":{"style":0,"stability":0.75,"similarity_boost":0.8,"use_speaker_boost":true}}
[2025-06-24 23:57:57] [TEST] Generando desde texto directo
[2025-06-24 23:57:57] [TEST] Texto original: Uno, dos, tres, cuatro, cinco. Esta es una prueba de velocidad.
[2025-06-24 23:57:57] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:57:57] [TEST] Speed recibido: normal
[2025-06-24 23:57:57] [TEST] Speech options antes de processText: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:57:57] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:57:57] [TEST] [SPEECH-CONTROLS] Options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:57:57] [TEST] [SPEECH-CONTROLS] Speed: normal
[2025-06-24 23:57:57] [TEST] Speech Controls - processText options: {"speed":"normal","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 23:57:57] [TEST] Usando énfasis simple
[2025-06-24 23:57:57] [TEST] Usando pausas simples
[2025-06-24 23:57:57] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: normal = 100%
[2025-06-24 23:57:57] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="100%">Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco. <break time="0.5s"/> Esta es una prueba de velocidad.</prosody>
[2025-06-24 23:57:57] [TEST] Texto después de processText: <speak><prosody rate="100%">Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco. <break time="0.5s"/> Esta es una prueba de velocidad.</prosody></speak>
[2025-06-24 23:57:57] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:57:57] [TEST] Texto procesado con SSML: <speak><prosody rate="100%">Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco. <break time="0.5s"/> Esta es una prueba de velocidad.</prosody></speak>
[2025-06-24 23:57:57] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0,"use_speaker_boost":true}
[2025-06-24 23:57:57] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:57:57] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:57:57] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0,"use_speaker_boost":true}
[2025-06-24 23:57:57] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"100%\">Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco. <break time=\"0.5s\"\/> Esta es una prueba de velocidad.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:57:57] [TEST] Voice settings finales: style=0, stability=0.75, similarity=0.8
[2025-06-24 23:57:58] [TEST] Datos recibidos: {"action":"generate_audio","text":"Atenci\u00f3n clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.","voice":"fernanda","speed":"muy_lento","emphasis":true,"test_mode":true,"test_speed_rate":50}
[2025-06-24 23:57:58] [TEST] Iniciando generación de audio
[2025-06-24 23:57:58] [TEST] Generator options completas: {"speed":"muy_lento","emphasis":true}
[2025-06-24 23:57:58] [TEST] Generando desde texto directo
[2025-06-24 23:57:58] [TEST] Texto original: Atención clientes, esta es una prueba de velocidad. Uno, dos, tres, cuatro, cinco.
[2025-06-24 23:57:58] [TEST] === DEBUG VELOCIDAD ===
[2025-06-24 23:57:58] [TEST] Speed recibido: muy_lento
[2025-06-24 23:57:58] [TEST] Speech options antes de processText: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:57:58] [TEST] [SPEECH-CONTROLS] processText llamado
[2025-06-24 23:57:58] [TEST] [SPEECH-CONTROLS] Options: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium"}
[2025-06-24 23:57:58] [TEST] [SPEECH-CONTROLS] Speed: muy_lento
[2025-06-24 23:57:58] [TEST] Speech Controls - processText options: {"speed":"muy_lento","language":"es","emphasis":true,"emphasis_words":[],"pauses":true,"pause_length":"medium","emotion":"neutral"}
[2025-06-24 23:57:58] [TEST] Usando énfasis simple
[2025-06-24 23:57:58] [TEST] Usando pausas simples
[2025-06-24 23:57:58] [TEST] [SPEECH-CONTROLS] Aplicando velocidad: muy_lento = 50%
[2025-06-24 23:57:58] [TEST] [SPEECH-CONTROLS] Texto procesado final: <prosody rate="50%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody>
[2025-06-24 23:57:58] [TEST] Texto después de processText: <speak><prosody rate="50%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:57:58] [TEST] === FIN DEBUG VELOCIDAD ===
[2025-06-24 23:57:58] [TEST] Texto procesado con SSML: <speak><prosody rate="50%"><emphasis level="strong">Atención</emphasis> clientes, <break time="200ms"/> esta es una prueba de velocidad. <break time="0.5s"/> Uno, <break time="200ms"/> dos, <break time="200ms"/> tres, <break time="200ms"/> cuatro, <break time="200ms"/> cinco.</prosody></speak>
[2025-06-24 23:57:58] [TEST] Voice settings finales: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:57:58] [TEST] === TTS-SERVICE: Options recibidas: {"model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"language":"es","enable_ssml":true,"seed":null}
[2025-06-24 23:57:58] [TEST] TTS Enhanced - Voz: fernanda -> ID: JM2A9JbRp8XUJ7bdCXJc
[2025-06-24 23:57:58] [TEST] Voice settings mezclados con frontend: {"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true}
[2025-06-24 23:57:58] [TEST] Request a ElevenLabs: {"text":"<speak><prosody rate=\"50%\"><emphasis level=\"strong\">Atenci\u00f3n<\/emphasis> clientes, <break time=\"200ms\"\/> esta es una prueba de velocidad. <break time=\"0.5s\"\/> Uno, <break time=\"200ms\"\/> dos, <break time=\"200ms\"\/> tres, <break time=\"200ms\"\/> cuatro, <break time=\"200ms\"\/> cinco.<\/prosody><\/speak>","model_id":"eleven_multilingual_v2","voice_settings":{"stability":0.75,"similarity_boost":0.8,"style":0.5,"use_speaker_boost":true},"enable_ssml":true}
[2025-06-24 23:57:58] [TEST] Voice settings finales: style=0.5, stability=0.75, similarity=0.8
[2025-06-24 23:57:58] [TEST] Respuesta HTTP: 200
[2025-06-24 23:57:58] [TEST] Audio generado exitosamente, tamaño: 78621 bytes
[2025-06-24 23:57:58] [TEST] Archivo temporal creado para preview: test_1750809478.mp3
[2025-06-24 23:57:58] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750809478.mp3.copy
[2025-06-24 23:57:58] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:57:58] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b3b86ed160.mp3' 2>&1
[2025-06-24 23:57:59] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b3b86ed160.mp3
[2025-06-24 23:57:59] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b3b870e8d6.txt
[2025-06-24 23:57:59] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b3b870e8d6.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750809478_with_silence.mp3' 2>&1
[2025-06-24 23:57:59] [TEST] Respuesta HTTP: 200
[2025-06-24 23:57:59] [TEST] Audio generado exitosamente, tamaño: 78621 bytes
[2025-06-24 23:57:59] [TEST] Archivo temporal creado para preview: test_1750809479.mp3
[2025-06-24 23:57:59] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750809479.mp3.copy
[2025-06-24 23:57:59] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:57:59] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b3b8743b8d.mp3' 2>&1
[2025-06-24 23:57:59] [TEST] Respuesta HTTP: 200
[2025-06-24 23:57:59] [TEST] Audio generado exitosamente, tamaño: 77785 bytes
[2025-06-24 23:57:59] [TEST] Archivo temporal creado para preview: test_1750809479.mp3
[2025-06-24 23:57:59] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750809479.mp3.copy
[2025-06-24 23:57:59] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:57:59] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b3b8775ca7.mp3' 2>&1
[2025-06-24 23:57:59] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b3b8743b8d.mp3
[2025-06-24 23:57:59] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b3b8780026.txt
[2025-06-24 23:57:59] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b3b8780026.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750809479_with_silence.mp3' 2>&1
[2025-06-24 23:57:59] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:57:59] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 175586 bytes
[2025-06-24 23:57:59] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624235759.mp3
[2025-06-24 23:57:59] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b3b8775ca7.mp3
[2025-06-24 23:57:59] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b3b87ba2fb.txt
[2025-06-24 23:57:59] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b3b87ba2fb.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750809479_with_silence.mp3' 2>&1
[2025-06-24 23:58:00] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:58:00] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 174751 bytes
[2025-06-24 23:58:00] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624235800.mp3
[2025-06-24 23:58:00] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:58:00] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 174751 bytes
[2025-06-24 23:58:00] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624235800.mp3
[2025-06-24 23:58:00] [TEST] Respuesta HTTP: 200
[2025-06-24 23:58:00] [TEST] Audio generado exitosamente, tamaño: 99519 bytes
[2025-06-24 23:58:00] [TEST] Archivo temporal creado para preview: test_1750809480.mp3
[2025-06-24 23:58:00] [TEST] === Iniciando addSilenceToAudio con archivo: /var/www/tts-mall/api/temp/test_1750809480.mp3.copy
[2025-06-24 23:58:00] [TEST] Archivo original - Channels: 1, Sample Rate: 44100, Bitrate: 128000
[2025-06-24 23:58:00] [TEST] Ejecutando comando de silencio: ffmpeg -f lavfi -i anullsrc=channel_layout=mono:sample_rate=44100 -t 3 -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/silence_685b3b88b80ea.mp3' 2>&1
[2025-06-24 23:58:00] [TEST] Archivo de silencio creado: /var/www/tts-mall/api/temp/silence_685b3b88b80ea.mp3
[2025-06-24 23:58:00] [TEST] Archivo de lista creado: /var/www/tts-mall/api/temp/concat_685b3b88df3d6.txt
[2025-06-24 23:58:00] [TEST] Ejecutando concat: ffmpeg -f concat -safe 0 -i '/var/www/tts-mall/api/temp/concat_685b3b88df3d6.txt' -c:a libmp3lame -b:a 128000 -ac 1 -ar 44100 -y '/var/www/tts-mall/api/temp/test_1750809480_with_silence.mp3' 2>&1
[2025-06-24 23:58:01] [TEST] Archivo final - Channels: 1, Sample Rate: 44100
[2025-06-24 23:58:01] [TEST] ✅ Silencio agregado exitosamente manteniendo formato original. Tamaño: 196484 bytes
[2025-06-24 23:58:01] [TEST] Subiendo archivo a AzuraCast: Grabaciones/tts20250624235801.mp3
[2025-06-24 23:58:03] [TEST] Audio generado y subido exitosamente: tts20250624235759.mp3
[2025-06-24 23:58:05] [TEST] Audio generado y subido exitosamente: tts20250624235800.mp3
[2025-06-24 23:58:05] [TEST] Audio generado y subido exitosamente: tts20250624235801.mp3
[2025-06-24 23:58:06] [TEST] Error: Error subiendo archivo: HTTP 500
