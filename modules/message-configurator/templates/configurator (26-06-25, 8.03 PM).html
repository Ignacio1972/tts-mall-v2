<!-- Message Configurator Template -->
<div class="configurator-container">
    <!-- Header -->
    <div class="configurator-header">
        <h1>ğŸ™ï¸ Radio Barrio Independencia</h1>
        <p class="header-subtitle">Sistema avanzado de Text-to-Speech para Mall Barrio Independencia</p>
    </div>
    
    <!-- Navigation Tabs -->
    <div class="configurator-tabs">
        <button class="tab-button tab-button--active" data-tab="configuracion">
            âš™ï¸ ConfiguraciÃ³n
        </button>
        <button class="tab-button" data-tab="campanas">
            ğŸ“‹ CampaÃ±as y Mensajes
        </button>
    </div>
    
    <!-- Main Content -->
    <div class="configurator-content">
        <!-- Row 1: Metadatos -->
        <div class="form-row-inline">
            <input type="text" 
                   id="message-name" 
                   data-field="name"
                   placeholder="Nombre del mensaje (ej: Oferta fin de semana)" 
                   class="form-control flex-grow">
            
            <select id="message-category" data-field="category" class="form-control">
                <option value="">CategorÃ­a</option>
                <option value="ofertas">ğŸ›’ Ofertas</option>
                <option value="eventos">ğŸ‰ Eventos</option>
                <option value="informacion">â„¹ï¸ InformaciÃ³n</option>
                <option value="emergencias">ğŸš¨ Emergencias</option>
            </select>
            
            <select id="message-voice" data-field="voice" class="form-control">
                <option value="fernanda">ğŸ‘© Fernanda (Profesional)</option>
                <option value="cristian">ğŸ‘¨ Cristian (Juvenil)</option>
                <option value="valeria">ğŸ‘© Valeria (Alegre)</option>
                <option value="yorman">ğŸ‘¨ Yorman (Profundo)</option>
                <option value="alejandro">ğŸ‘¨ Alejandro (Neutral)</option>
            </select>
        </div>
        
        <!-- Etiquetas -->
        <div class="form-group">
            <label>Etiquetas:</label>
            <div id="tags-container"></div>
        </div>
        
        <!-- Row 2: Mensaje y Acciones -->
        <div class="message-section">
            <div class="message-header">
                <h3>âœï¸ Mensaje</h3>
                <button class="btn btn-link" data-action="use-template">
                    ğŸ“‹ Usar plantilla
                </button>
            </div>
            
            <!-- Textarea Ãºnico estilo legacy -->
            <div class="textarea-wrapper">
                <textarea id="message-text" 
                          data-field="text"
                          class="legacy-textarea"
                          rows="8" 
                          maxlength="500"
                          placeholder="Escribe aquÃ­ tu mensaje..."></textarea>
                <div class="char-counter">
                    <span id="char-count">0</span> / 500 caracteres
                </div>
            </div>
            
            <!-- Botones de acciÃ³n debajo del textarea -->
            <div class="message-actions">
                <button class="btn btn-primary" data-action="generate-audio">
                    ğŸ§ Generar Audio
                </button>
                <button class="btn btn-secondary" data-action="save-message">
                    ğŸ’¾ Guardar Mensaje
                </button>
            </div>
        </div>
        
        <!-- Audio Player (movido aquÃ­, justo despuÃ©s del mensaje) -->
        <div id="audio-player-container" class="audio-section" style="display: none;">
            <div class="result-header">
                <h3>ğŸµ Anuncio Generado</h3>
                <button class="btn btn-secondary" data-action="clear-result">
                    âœ–ï¸ Limpiar
                </button>
            </div>
            
            <div class="audio-container">
                <audio id="audio-player" controls></audio>
            </div>
            
            <div class="audio-actions">
                <button class="btn btn-success" data-action="send-radio">
                    ğŸ“» Enviar a Radio
                </button>
                <button class="btn btn-secondary" data-action="download-audio">
                    ğŸ’¾ Descargar
                </button>
            </div>
            
            <div class="form-group">
                <label>Texto procesado:</label>
                <div id="processedText" class="processed-text"></div>
            </div>
        </div>
        
        <!-- Botones de acciÃ³n principal (movidos aquÃ­) -->
        <div class="main-actions">
            <button class="btn btn-secondary" data-action="new-message">
                â• Nuevo
            </button>
            <button class="btn btn-secondary" data-action="load-saved">
                ğŸ“‚ Cargar
            </button>
        </div>
        
        <!-- Row 3: Controles de Voz SIMPLIFICADOS -->
        <div class="controls-section">
            <div class="controls-header">
                <h3>ğŸ›ï¸ Controles de Voz</h3>
                <button class="btn btn-link" data-action="reset-controls">
                    â†º Restaurar valores
                </button>
            </div>
            
            <!-- Controles en una sola fila -->
            <div class="voice-controls-container">
                <div class="controls-row">
                    <!-- Expresividad -->
                    <div class="control-item">
                        <label>ğŸ­ Expresividad</label>
                        <div id="style-slider-container"></div>
                    </div>
                    
                    <!-- Estabilidad -->
                    <div class="control-item">
                        <label>ğŸ¯ Estabilidad</label>
                        <div id="stability-slider-container"></div>
                    </div>
                    
                    <!-- Fidelidad -->
                    <div class="control-item">
                        <label>ğŸ”Š Fidelidad</label>
                        <div id="similarity-slider-container"></div>
                    </div>
                    
                    <!-- Speaker Boost Toggle -->
                    <div class="control-item control-item--toggle">
                        <div id="speaker-boost-container"></div>
                    </div>
                </div>
                
                <!-- Profile Selector -->
                <div class="profile-section">
                    <div id="voice-profiles-container"></div>
                </div>
            </div>
        </div>
        
        <!-- Estado -->
        <div id="generation-status" class="status-container"></div>
    </div>
</div>