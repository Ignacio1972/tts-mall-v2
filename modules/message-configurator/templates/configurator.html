<!-- Message Configurator Template (sin header ni tabs) -->
<div class="message-configurator-module">
    <!-- Row 2: Mensaje y Acciones -->
    <div class="message-section">
        <div class="message-header">
            <h3>âœï¸ Mensaje</h3>
            <button class="btn btn-link" data-action="use-template">
                ğŸ“‹ Usar plantilla
            </button>
        </div>
        
        <!-- Textarea Ãºnico estilo legacy -->
        <div class="textarea-wrapper">
            <textarea id="message-text" 
                      data-field="text"
                      class="legacy-textarea"
                      rows="8" 
                      maxlength="500"
                      placeholder="Escribe aquÃ­ tu mensaje..."></textarea>
            <div class="char-counter">
                <span id="char-count">0</span> / 500 caracteres
            </div>
        </div>
        
        <!-- Selector de voz justo debajo del textarea -->
        <div class="form-group" style="margin-top: 1rem;">
            <label>Voz del anuncio:</label>
            <select id="message-voice" data-field="voice" class="form-control" style="max-width: 300px;">
                <option value="cristian">ğŸ‘¨ Cristian (Juvenil)</option>
                <option value="fernanda">ğŸ‘© Fernanda (Profesional)</option>
                <option value="valeria">ğŸ‘© Valeria (Alegre)</option>
                <option value="yorman">ğŸ‘¨ Yorman (Profundo)</option>
                <option value="alejandro">ğŸ‘¨ Alejandro (Neutral)</option>
                <option value="rosa">ğŸ‘© Rosa (Amigable)</option>
                <option value="vicente">ğŸ‘¨ Vicente (VersÃ¡til)</option>
                <option value="zabra">ğŸ‘© Zabra (DinÃ¡mica)</option>
                <option value="azucena">ğŸ‘© Azucena (Expresiva)</option>
                <option value="ninoska">ğŸ‘© Ninoska (EnÃ©rgica)</option>
                <option value="ruben">ğŸ‘¨ RubÃ©n (Profesional)</option>
                <option value="santiago">ğŸ‘¨ Santiago (Clara)</option>
                <option value="luis">ğŸ‘¨ Luis (Profunda)</option>
            </select>
        </div>
        
        <!-- Botones de acciÃ³n debajo del textarea -->
        <div class="message-actions">
            <button class="btn btn-primary" data-action="generate-audio">
                ğŸ§ Generar Audio
            </button>
            <button class="btn btn-success" data-action="save-message" id="saveMessageBtn" style="display: none;">
                ğŸ’¾ Guardar en Biblioteca
            </button>
        </div>
    </div>
    
    <!-- Audio Player (justo despuÃ©s del mensaje) -->
    <div id="audio-player-container" class="audio-section" style="display: none;">
        <div class="result-header">
            <h3>ğŸµ Anuncio Generado</h3>
            <button class="btn btn-secondary" data-action="clear-result">
                âœ–ï¸ Limpiar
            </button>
        </div>
        
        <div class="audio-container">
            <audio id="audio-player" controls></audio>
        </div>
        
        <div class="audio-actions">
            <button class="btn btn-success" data-action="send-radio">
                ğŸ“» Enviar a Radio
            </button>
            <button class="btn btn-secondary" data-action="download-audio">
                ğŸ’¾ Descargar
            </button>
        </div>
        
        <div class="form-group">
            <label>Texto procesado:</label>
            <div id="processedText" class="processed-text"></div>
        </div>
    </div>
    
    <!-- Row 3: Controles de Voz SIMPLIFICADOS -->
    <div class="controls-section">
        <div class="controls-header">
            <h3>ğŸ›ï¸ Controles de Voz</h3>
            <button class="btn btn-link" data-action="reset-controls">
                â†º Restaurar valores
            </button>
        </div>
        
        <!-- Controles en una sola fila -->
        <div class="voice-controls-container">
            <div class="controls-row">
                <!-- Expresividad -->
                <div class="control-item">
                    <div id="style-slider-container" 
                         data-component="styleSlider" 
                         data-slider-config='{"label":"ğŸ­ Expresividad","icon":"","min":0,"max":100,"unit":"%","value":50}'></div>
                </div>
                
                <!-- Estabilidad -->
                <div class="control-item">
                    <div id="stability-slider-container" 
                         data-component="stabilitySlider" 
                         data-slider-config='{"label":"ğŸ¯ Estabilidad","icon":"","min":0,"max":100,"unit":"%","value":75}'></div>
                </div>
                
                <!-- Fidelidad -->
                <div class="control-item">
                    <div id="similarity-slider-container" 
                         data-component="similaritySlider" 
                         data-slider-config='{"label":"ğŸ”Š Fidelidad","icon":"","min":0,"max":100,"unit":"%","value":80}'></div>
                </div>
                
                <!-- Speaker Boost Toggle -->
                <div class="control-item control-item--toggle">
                    <div id="speaker-boost-container" data-component="speakerBoostToggle"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Estado -->
    <div id="generation-status" class="status-container"></div>
</div>